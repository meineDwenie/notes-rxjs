import{D as P,V as S,W as O,Y as y,b as N,c as x,d as w,h as M}from"./chunk-7LVFCTYT.js";import{Cb as f,Db as b,Jb as C,La as v,Na as l,Sa as d,Ya as _,bb as u,db as a,nb as c,ob as o,pb as i,qb as g,ub as p,vb as h,zb as k}from"./chunk-WAOKH6ES.js";function T(r,t){if(r&1&&(o(0,"div",14),g(1,"img",15),i()),r&2){let n=t.$implicit;l(),c("src",n,v)}}function I(r,t){if(r&1&&(o(0,"div",12),u(1,T,2,1,"div",13),i()),r&2){let n=h();l(),c("ngForOf",n.note.images)}}var E=class r{constructor(t,n){this.store=t;this.eventBus=n;this.notebooks$=this.store.select(S)}note;open=new a;delete=new a;togglePin=new a;optionSelected=new a;addToNotebook=new a;notebooks$;onOpen(){this.open.emit(this.note)}onDelete(t){t.stopPropagation(),this.delete.emit(this.note.id)}onTogglePin(t){this.togglePin.emit({note:this.note,event:t})}openAddToNotebookModal(t){this.eventBus.triggerAddToNotebookModal(t)}static \u0275fac=function(n){return new(n||r)(d(P),d(O))};static \u0275cmp=_({type:r,selectors:[["app-note"]],inputs:{note:"note"},outputs:{open:"open",delete:"delete",togglePin:"togglePin",optionSelected:"optionSelected",addToNotebook:"addToNotebook"},decls:16,vars:8,consts:[[3,"click"],[1,"note-title"],["class","image-preview",4,"ngIf"],[1,"buttons-container",3,"click"],[1,"left-buttons"],["customClass","image-button","icon","mage:image","title","Upload image"],["customClass","archive-button","icon","mage:archive","title","Archive note"],["customClass","reminder-button","icon","carbon:reminder","title","Add reminder"],["customClass","add-to-notebook-button","icon","fluent:notebook-arrow-curve-down-20-regular","title","Add to notebook",3,"clicked"],["customClass","add-to-notebook-button","icon","mage:trash","title","Delete note",3,"click"],[1,"pin-icon"],[1,"bi",3,"click","ngClass","title"],[1,"image-preview"],["class","image-wrapper",4,"ngFor","ngForOf"],[1,"image-wrapper"],[1,"preview-thumbnail",3,"src"]],template:function(n,e){n&1&&(o(0,"li",0),p("click",function(){return e.onOpen()}),o(1,"div")(2,"h3",1),f(3),i(),o(4,"p"),f(5),i(),u(6,I,2,1,"div",2),i(),o(7,"div",3),p("click",function(s){return s.stopPropagation()}),o(8,"div",4),g(9,"app-button-feature",5)(10,"app-button-feature",6)(11,"app-button-feature",7),o(12,"app-button-feature",8),p("clicked",function(){return e.openAddToNotebookModal(e.note)}),i(),o(13,"app-button-feature",9),p("click",function(s){return e.onDelete(s)}),i()(),o(14,"div",10)(15,"i",11),p("click",function(s){return e.onTogglePin(s)}),i()()()()),n&2&&(k("background-color",e.note.color||"#ffffff"),l(3),b(e.note.title),l(2),b(e.note.content),l(),c("ngIf",e.note.images==null?null:e.note.images.length),l(9),c("title",C(e.note.pinned?"Unpin":"Pin"))("ngClass",e.note.pinned?"bi-pin-fill":"bi-pin"))},dependencies:[M,N,x,w,y],styles:["li[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:6px;min-height:120px;height:auto;padding:1rem;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;cursor:default;overflow:hidden;transition:all .2s ease;outline:.5px solid rgba(150,150,150,.3)}li[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #43868626;transform:translateY(-2px)}.note-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:1.3}p[_ngcontent-%COMP%]{margin:0;font-size:15px;line-height:18pt;color:#141414;display:-webkit-box;-webkit-line-clamp:10;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:220px;white-space:pre-wrap}.image-preview[_ngcontent-%COMP%]{display:flex;gap:6px;margin-top:.5rem}.preview-thumbnail[_ngcontent-%COMP%]{height:60px;width:auto;object-fit:cover;border-radius:4px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;opacity:0;pointer-events:none;transition:opacity .2s ease-in-out}li[_ngcontent-%COMP%]:hover   .buttons-container[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.left-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.three-dot-button-container[_ngcontent-%COMP%]{display:flex;align-items:center}.pin-icon[_ngcontent-%COMP%]{position:absolute;top:14px;right:14px;padding:4px 6px 2px;cursor:pointer;font-size:1.2rem;color:var(--feature-button-color);z-index:10}.pin-icon[_ngcontent-%COMP%]:hover{color:var(--feature-button-hover-color);background-color:var(--feature-button-hover-background-color);border-radius:8px}"]})};export{E as a};
