import{a as ko,b as wo,c as Mo,d as Eo,f as No,g as Vo,h as Oo,i as Ao,j as gt,k as Io,l as yt,m as pe,n as $o,o as xt,p as kt,q as me,r as Te,s as Et}from"./chunk-EKU5Z4EG.js";import{A as Mt,B as zo,a as So,b as Do,d as rn,e as _t,f as To,g as Po,h as Fo,i as Ro,j as jo,k as sn,l as an,m as Lo,n as Z,q as ln,r as bt,u as Ct,v as Uo,w as vt,x as Bo,y as cn,z as wt}from"./chunk-KBODP7Z6.js";import{a as on,i as Co,k as vo,l as yo,m as ht,n as xo,o as R}from"./chunk-5IK5MZEV.js";import{$a as X,$b as Me,Aa as be,Ab as w,Ba as st,Bb as m,C as qn,Cb as u,D as Oe,Da as Ce,E as ie,Eb as se,F as Je,Fb as ae,G as Qn,Gb as le,H as et,Hb as ve,Ib as ye,J as he,K as Zn,Kb as b,L as Yn,La as J,Lb as z,M as Xn,Mb as De,N as Jn,Na as at,Nb as mo,Oa as p,Ob as ee,Pb as te,Q as tn,Qb as ne,Rb as fo,Sa as lt,Sb as ut,T as eo,Ta as k,Tb as pt,Ub as ho,V as to,W as no,Wb as xe,X as oo,Xb as we,Y as io,Yb as go,Z as nn,Za as T,_ as tt,_a as He,_b as _o,a as N,aa as ro,ac as mt,b as D,bb as Ae,cb as Ie,d as Gi,da as nt,e as Wi,ea as ge,eb as _,fa as ze,fb as co,fc as ft,h as Xe,ha as j,ia as B,ib as uo,ja as re,k as Ve,ka as ot,l as Un,la as so,lc as bo,m as Bn,n as $n,nb as ct,o as zn,p as Hn,pa as c,pb as O,q as Gn,qa as d,qb as po,r as Jt,ra as ao,rb as A,sb as Se,tb as dt,ua as it,ub as W,v as Wn,vb as K,w as P,wa as lo,wb as v,x as Kn,xa as rt,xb as a,y as en,yb as l,zb as S}from"./chunk-5VIB32CO.js";var Bi=Gi((mu,Ui)=>{"use strict";var da=function(e){return ua(e)&&!pa(e)};function ua(n){return!!n&&typeof n=="object"}function pa(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||ha(n)}var ma=typeof Symbol=="function"&&Symbol.for,fa=ma?Symbol.for("react.element"):60103;function ha(n){return n.$$typeof===fa}function ga(n){return Array.isArray(n)?[]:{}}function Ye(n,e){return e.clone!==!1&&e.isMergeableObject(n)?$e(ga(n),n,e):n}function _a(n,e,t){return n.concat(e).map(function(o){return Ye(o,t)})}function ba(n,e){if(!e.customMerge)return $e;var t=e.customMerge(n);return typeof t=="function"?t:$e}function Ca(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return Object.propertyIsEnumerable.call(n,e)}):[]}function ji(n){return Object.keys(n).concat(Ca(n))}function Li(n,e){try{return e in n}catch{return!1}}function va(n,e){return Li(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function ya(n,e,t){var o={};return t.isMergeableObject(n)&&ji(n).forEach(function(i){o[i]=Ye(n[i],t)}),ji(e).forEach(function(i){va(n,i)||(Li(n,i)&&t.isMergeableObject(e[i])?o[i]=ba(i,t)(n[i],e[i],t):o[i]=Ye(e[i],t))}),o}function $e(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||_a,t.isMergeableObject=t.isMergeableObject||da,t.cloneUnlessOtherwiseSpecified=Ye;var o=Array.isArray(e),i=Array.isArray(n),r=o===i;return r?o?t.arrayMerge(n,e,t):ya(n,e,t):Ye(e,t)}$e.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,i){return $e(o,i,t)},{})};var xa=$e;Ui.exports=xa});var We="PERFORM_ACTION",Ki="REFRESH",Qo="RESET",Zo="ROLLBACK",Yo="COMMIT",Xo="SWEEP",Jo="TOGGLE_ACTION",qi="SET_ACTIONS_ACTIVE",ei="JUMP_TO_STATE",ti="JUMP_TO_ACTION",xn="IMPORT_STATE",ni="LOCK_CHANGES",oi="PAUSE_RECORDING",Pe=class{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=We,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},dn=class{constructor(){this.type=Ki}},un=class{constructor(e){this.timestamp=e,this.type=Qo}},pn=class{constructor(e){this.timestamp=e,this.type=Zo}},mn=class{constructor(e){this.timestamp=e,this.type=Yo}},fn=class{constructor(){this.type=Xo}},hn=class{constructor(e){this.id=e,this.type=Jo}};var gn=class{constructor(e){this.index=e,this.type=ei}},_n=class{constructor(e){this.actionId=e,this.type=ti}},bn=class{constructor(e){this.nextLiftedState=e,this.type=xn}},Cn=class{constructor(e){this.status=e,this.type=ni}},vn=class{constructor(e){this.status=e,this.type=oi}};var At=new j("@ngrx/store-devtools Options"),Ho=new j("@ngrx/store-devtools Initial Config");function ii(){return null}var Qi="NgRx Store DevTools";function Zi(n){let e={maxAge:!1,monitor:ii,actionSanitizer:void 0,stateSanitizer:void 0,name:Qi,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof n=="function"?n():n,o=t.logOnly?{pause:!0,export:!0,test:!0}:!1,i=t.features||o||e.features;i.import===!0&&(i.import="custom");let r=Object.assign({},e,{features:i},t);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}function Go(n,e){return n.filter(t=>e.indexOf(t)<0)}function ri(n){let{computedStates:e,currentStateIndex:t}=n;if(t>=e.length){let{state:i}=e[e.length-1];return i}let{state:o}=e[t];return o}function Ge(n){return new Pe(n,+Date.now())}function Yi(n,e){return Object.keys(e).reduce((t,o)=>{let i=Number(o);return t[i]=si(n,e[i],i),t},{})}function si(n,e,t){return D(N({},e),{action:n(e.action,t)})}function Xi(n,e){return e.map((t,o)=>({state:ai(n,t.state,o),error:t.error}))}function ai(n,e,t){return n(e,t)}function li(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function Ji(n,e,t,o){let i=[],r={},s=[];return n.stagedActionIds.forEach((h,y)=>{let C=n.actionsById[h];C&&(y&&kn(n.computedStates[y],C,e,t,o)||(r[h]=C,i.push(h),s.push(n.computedStates[y])))}),D(N({},n),{stagedActionIds:i,actionsById:r,computedStates:s})}function kn(n,e,t,o,i){let r=t&&!t(n,e.action),s=o&&!e.action.type.match(o.map(y=>Wo(y)).join("|")),h=i&&e.action.type.match(i.map(y=>Wo(y)).join("|"));return r||s||h}function Wo(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ci(n){return{ngZone:n?re(co):null,connectInZone:n}}var It=(()=>{let e=class e extends _t{};e.\u0275fac=(()=>{let o;return function(r){return(o||(o=st(e)))(r||e)}})(),e.\u0275prov=ge({token:e,factory:e.\u0275fac});let n=e;return n})(),Nt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},yn=new j("@ngrx/store-devtools Redux Devtools Extension"),di=(()=>{let e=class e{constructor(o,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=ci(this.config.connectInZone),this.devtoolsExtension=o,this.createActionStreams()}notify(o,i){if(this.devtoolsExtension)if(o.type===We){if(i.isLocked||i.isPaused)return;let r=ri(i);if(li(this.config)&&kn(r,o,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?ai(this.config.stateSanitizer,r,i.currentStateIndex):r,h=this.config.actionSanitizer?si(this.config.actionSanitizer,o,i.nextActionId):o;this.sendToReduxDevtools(()=>this.extensionConnection.send(h,s))}else{let r=D(N({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?Yi(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?Xi(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Xe(o=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>o.next(r)),i.unsubscribe}):zn}createActionStreams(){let o=this.createChangesObservable().pipe(no()),i=o.pipe(ie(g=>g.type===Nt.START)),r=o.pipe(ie(g=>g.type===Nt.STOP)),s=o.pipe(ie(g=>g.type===Nt.DISPATCH),P(g=>this.unwrapAction(g.payload)),Qn(g=>g.type===xn?this.dispatcher.pipe(ie(f=>f.type===sn),Wn(1e3),et(1e3),P(()=>g),Je(()=>Jt(g)),he(1)):Jt(g))),y=o.pipe(ie(g=>g.type===Nt.ACTION),P(g=>this.unwrapAction(g.payload))).pipe(tt(r)),C=s.pipe(tt(r));this.start$=i.pipe(tt(r)),this.actions$=this.start$.pipe(nn(()=>y)),this.liftedActions$=this.start$.pipe(nn(()=>C))}unwrapAction(o){return typeof o=="string"?(0,eval)(`(${o})`):o}getExtensionConfig(o){let i={name:o.name,features:o.features,serialize:o.serialize,autoPause:o.autoPause??!1,trace:o.trace??!1,traceLimit:o.traceLimit??75};return o.maxAge!==!1&&(i.maxAge=o.maxAge),i}sendToReduxDevtools(o){try{o()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};e.\u0275fac=function(i){return new(i||e)(B(yn),B(At),B(It))},e.\u0275prov=ge({token:e,factory:e.\u0275fac});let n=e;return n})(),Ot={type:rn},er="@ngrx/store-devtools/recompute",tr={type:er};function ui(n,e,t,o,i){if(o)return{state:t,error:"Interrupted by an error up the chain"};let r=t,s;try{r=n(t,e)}catch(h){s=h.toString(),i.handleError(h)}return{state:r,error:s}}function Vt(n,e,t,o,i,r,s,h,y){if(e>=n.length&&n.length===r.length)return n;let C=n.slice(0,e),g=r.length-(y?1:0);for(let f=e;f<g;f++){let x=r[f],U=i[x].action,E=C[f-1],M=E?E.state:o,de=E?E.error:void 0,ue=s.indexOf(x)>-1?E:ui(t,U,M,de,h);C.push(ue)}return y&&C.push(n[n.length-1]),C}function nr(n,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Ge(Ot)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function or(n,e,t,o,i={}){return r=>(s,h)=>{let{monitorState:y,actionsById:C,nextActionId:g,stagedActionIds:f,skippedActionIds:x,committedState:U,currentStateIndex:E,computedStates:M,isLocked:de,isPaused:Q}=s||e;s||(C=Object.create(C));function ue(F){let I=F,_e=f.slice(1,I+1);for(let oe=0;oe<_e.length;oe++)if(M[oe+1].error){I=oe,_e=f.slice(1,I+1);break}else delete C[_e[oe]];x=x.filter(oe=>_e.indexOf(oe)===-1),f=[0,...f.slice(I+1)],U=M[I].state,M=M.slice(I),E=E>I?E-I:0}function Ne(){C={0:Ge(Ot)},g=1,f=[0],x=[],U=M[E].state,E=0,M=[]}let V=0;switch(h.type){case ni:{de=h.status,V=1/0;break}case oi:{Q=h.status,Q?(f=[...f,g],C[g]=new Pe({type:"@ngrx/devtools/pause"},+Date.now()),g++,V=f.length-1,M=M.concat(M[M.length-1]),E===f.length-2&&E++,V=1/0):Ne();break}case Qo:{C={0:Ge(Ot)},g=1,f=[0],x=[],U=n,E=0,M=[];break}case Yo:{Ne();break}case Zo:{C={0:Ge(Ot)},g=1,f=[0],x=[],E=0,M=[];break}case Jo:{let{id:F}=h;x.indexOf(F)===-1?x=[F,...x]:x=x.filter(_e=>_e!==F),V=f.indexOf(F);break}case qi:{let{start:F,end:I,active:_e}=h,oe=[];for(let Xt=F;Xt<I;Xt++)oe.push(Xt);_e?x=Go(x,oe):x=[...x,...oe],V=f.indexOf(F);break}case ei:{E=h.index,V=1/0;break}case ti:{let F=f.indexOf(h.actionId);F!==-1&&(E=F),V=1/0;break}case Xo:{f=Go(f,x),x=[],E=Math.min(E,f.length-1);break}case We:{if(de)return s||e;if(Q||s&&kn(s.computedStates[E],h,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let I=M[M.length-1];M=[...M.slice(0,-1),ui(r,h.action,I.state,I.error,t)],V=1/0;break}i.maxAge&&f.length===i.maxAge&&ue(1),E===f.length-1&&E++;let F=g++;C[F]=h,f=[...f,F],V=f.length-1;break}case xn:{({monitorState:y,actionsById:C,nextActionId:g,stagedActionIds:f,skippedActionIds:x,committedState:U,currentStateIndex:E,computedStates:M,isLocked:de,isPaused:Q}=h.nextLiftedState);break}case rn:{V=0,i.maxAge&&f.length>i.maxAge&&(M=Vt(M,V,r,U,C,f,x,t,Q),ue(f.length-i.maxAge),V=1/0);break}case sn:{if(M.filter(I=>I.error).length>0)V=0,i.maxAge&&f.length>i.maxAge&&(M=Vt(M,V,r,U,C,f,x,t,Q),ue(f.length-i.maxAge),V=1/0);else{if(!Q&&!de){E===f.length-1&&E++;let I=g++;C[I]=new Pe(h,+Date.now()),f=[...f,I],V=f.length-1,M=Vt(M,V,r,U,C,f,x,t,Q)}M=M.map(I=>D(N({},I),{state:r(I.state,tr)})),E=f.length-1,i.maxAge&&f.length>i.maxAge&&ue(f.length-i.maxAge),V=1/0}break}default:{V=1/0;break}}return M=Vt(M,V,r,U,C,f,x,t,Q),y=o(y,h),{monitorState:y,actionsById:C,nextActionId:g,stagedActionIds:f,skippedActionIds:x,committedState:U,currentStateIndex:E,computedStates:M,isLocked:de,isPaused:Q}}}var Ko=(()=>{let e=class e{constructor(o,i,r,s,h,y,C,g){let f=nr(C,g.monitor),x=or(C,f,y,g.monitor,g),U=Oe(Oe(i.asObservable().pipe(oo(1)),s.actions$).pipe(P(Ge)),o,s.liftedActions$).pipe(Hn($n)),E=r.pipe(P(x)),M=ci(g.connectInZone),de=new Bn(1);this.liftedStateSubscription=U.pipe(ro(E),qo(M),to(({state:Ne},[V,F])=>{let I=F(Ne,V);return V.type!==We&&li(g)&&(I=Ji(I,g.predicate,g.actionsSafelist,g.actionsBlocklist)),s.notify(V,I),{state:I,action:V}},{state:f,action:null})).subscribe(({state:Ne,action:V})=>{if(de.next(Ne),V.type===We){let F=V.action;h.next(F)}}),this.extensionStartSubscription=s.start$.pipe(qo(M)).subscribe(()=>{this.refresh()});let Q=de.asObservable(),ue=Q.pipe(P(ri));Object.defineProperty(ue,"state",{value:So(ue,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=o,this.liftedState=Q,this.state=ue}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(o){this.dispatcher.next(o)}next(o){this.dispatcher.next(o)}error(o){}complete(){}performAction(o){this.dispatch(new Pe(o,+Date.now()))}refresh(){this.dispatch(new dn)}reset(){this.dispatch(new un(+Date.now()))}rollback(){this.dispatch(new pn(+Date.now()))}commit(){this.dispatch(new mn(+Date.now()))}sweep(){this.dispatch(new fn)}toggleAction(o){this.dispatch(new hn(o))}jumpToAction(o){this.dispatch(new _n(o))}jumpToState(o){this.dispatch(new gn(o))}importState(o){this.dispatch(new bn(o))}lockChanges(o){this.dispatch(new Cn(o))}pauseRecording(o){this.dispatch(new vn(o))}};e.\u0275fac=function(i){return new(i||e)(B(It),B(_t),B(Ro),B(di),B(an),B(it),B(To),B(At))},e.\u0275prov=ge({token:e,factory:e.\u0275fac});let n=e;return n})();function qo({ngZone:n,connectInZone:e}){return t=>e?new Xe(o=>t.subscribe({next:i=>n.run(()=>o.next(i)),error:i=>n.run(()=>o.error(i)),complete:()=>n.run(()=>o.complete())})):t}var ir=new j("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function rr(n,e){return!!n||e.monitor!==ii}function sr(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function ar(n){return n.state}function pi(n={}){return ot([di,It,Ko,{provide:Ho,useValue:n},{provide:ir,deps:[yn,At],useFactory:rr},{provide:yn,useFactory:sr},{provide:At,deps:[Ho],useFactory:Zi},{provide:Lo,deps:[Ko],useFactory:ar},{provide:jo,useExisting:It}])}var vi=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,o){this._renderer=t,this._elementRef=o}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(o){return new(o||n)(k(lt),k(Ce))};static \u0275dir=X({type:n})}return n})(),yi=(()=>{class n extends vi{static \u0275fac=(()=>{let t;return function(i){return(t||(t=st(n)))(i||n)}})();static \u0275dir=X({type:n,features:[Ae]})}return n})(),Vn=new j("");var lr={provide:Vn,useExisting:nt(()=>G),multi:!0};function cr(){let n=on()?on().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var dr=new j(""),G=(()=>{class n extends vi{_compositionMode;_composing=!1;constructor(t,o,i){super(t,o),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cr())}writeValue(t){let o=t??"";this.setProperty("value",o)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(o){return new(o||n)(k(lt),k(Ce),k(dr,8))};static \u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,i){o&1&&m("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ut([lr]),Ae]})}return n})();var ur=new j(""),pr=new j("");function xi(n){return n!=null}function ki(n){return uo(n)?Gn(n):n}function wi(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function Mi(n,e){return e.map(t=>t(n))}function mr(n){return!n.validate}function Ei(n){return n.map(e=>mr(e)?e:t=>e.validate(t))}function fr(n){if(!n)return null;let e=n.filter(xi);return e.length==0?null:function(t){return wi(Mi(t,e))}}function Ni(n){return n!=null?fr(Ei(n)):null}function hr(n){if(!n)return null;let e=n.filter(xi);return e.length==0?null:function(t){let o=Mi(t,e).map(ki);return qn(o).pipe(P(wi))}}function Vi(n){return n!=null?hr(Ei(n)):null}function mi(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gr(n){return n._rawValidators}function _r(n){return n._rawAsyncValidators}function wn(n){return n?Array.isArray(n)?n:[n]:[]}function Dt(n,e){return Array.isArray(n)?n.includes(e):n===e}function fi(n,e){let t=wn(e);return wn(n).forEach(i=>{Dt(t,i)||t.push(i)}),t}function hi(n,e){return wn(e).filter(t=>!Dt(n,t))}var Tt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ni(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Mn=class extends Tt{name;get formDirective(){return null}get path(){return null}},Le=class extends Tt{_parent=null;name=null;valueAccessor=null},En=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},br={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ll=D(N({},br),{"[class.ng-submitted]":"isSubmitted"}),Y=(()=>{class n extends En{constructor(t){super(t)}static \u0275fac=function(o){return new(o||n)(k(Le,2))};static \u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,i){o&2&&ye("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ae]})}return n})();var Ke="VALID",St="INVALID",Re="PENDING",qe="DISABLED",Ue=class{},Pt=class extends Ue{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Qe=class extends Ue{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ze=class extends Ue{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},je=class extends Ue{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function Cr(n){return(Ft(n)?n.validators:n)||null}function vr(n){return Array.isArray(n)?Ni(n):n||null}function yr(n,e){return(Ft(e)?e.asyncValidators:n)||null}function xr(n){return Array.isArray(n)?Vi(n):n||null}function Ft(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Nn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Me(this.statusReactive)}set status(e){Me(()=>this.statusReactive.set(e))}_status=mt(()=>this.statusReactive());statusReactive=rt(void 0);get valid(){return this.status===Ke}get invalid(){return this.status===St}get pending(){return this.status==Re}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}errors;get pristine(){return Me(this.pristineReactive)}set pristine(e){Me(()=>this.pristineReactive.set(e))}_pristine=mt(()=>this.pristineReactive());pristineReactive=rt(!0);get dirty(){return!this.pristine}get touched(){return Me(this.touchedReactive)}set touched(e){Me(()=>this.touchedReactive.set(e))}_touched=mt(()=>this.touchedReactive());touchedReactive=rt(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hi(e,this._rawAsyncValidators))}hasValidator(e){return Dt(this._rawValidators,e)}hasAsyncValidator(e){return Dt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(D(N({},e),{sourceControl:o})),t&&e.emitEvent!==!1&&this._events.next(new Ze(!0,o))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:o})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,o),t&&e.emitEvent!==!1&&this._events.next(new Ze(!1,o))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(D(N({},e),{sourceControl:o})),t&&e.emitEvent!==!1&&this._events.next(new Qe(!1,o))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,o),t&&e.emitEvent!==!1&&this._events.next(new Qe(!0,o))}markAsPending(e={}){this.status=Re;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new je(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(D(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qe,this.errors=null,this._forEachChild(i=>{i.disable(D(N({},e),{onlySelf:!0}))}),this._updateValue();let o=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pt(this.value,o)),this._events.next(new je(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(D(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ke,this._forEachChild(o=>{o.enable(D(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(D(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ke||this.status===Re)&&this._runAsyncValidator(o,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pt(this.value,t)),this._events.next(new je(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(D(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:Ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Re,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let o=ki(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((o,i)=>o&&o._find(i),this)}getError(e,t){let o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,o){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||o)&&this._events.next(new je(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,o)}_initObservables(){this.valueChanges=new _,this.statusChanges=new _}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?St:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Re)?Re:this._anyControlsHaveStatus(St)?St:Ke}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let o=!this._anyControlsDirty(),i=this.pristine!==o;this.pristine=o,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Qe(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ze(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ft(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vr(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xr(this._rawAsyncValidators)}};var On=new j("",{providedIn:"root",factory:()=>Rt}),Rt="always";function kr(n,e){return[...e.path,n]}function wr(n,e,t=Rt){Er(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Nr(n,e),Or(n,e),Vr(n,e),Mr(n,e)}function gi(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mr(n,e){if(e.valueAccessor.setDisabledState){let t=o=>{e.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Er(n,e){let t=gr(n);e.validator!==null?n.setValidators(mi(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let o=_r(n);e.asyncValidator!==null?n.setAsyncValidators(mi(o,e.asyncValidator)):typeof o=="function"&&n.setAsyncValidators([o]);let i=()=>n.updateValueAndValidity();gi(e._rawValidators,i),gi(e._rawAsyncValidators,i)}function Nr(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Oi(n,e)})}function Vr(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Oi(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Oi(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Or(n,e){let t=(o,i)=>{e.valueAccessor.writeValue(o),i&&e.viewToModelUpdate(o)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Ar(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Ir(n){return Object.getPrototypeOf(n.constructor)===yi}function Sr(n,e){if(!e)return null;Array.isArray(e);let t,o,i;return e.forEach(r=>{r.constructor===G?t=r:Ir(r)?o=r:i=r}),i||o||t||null}function _i(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Dr=class extends Nn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,o){super(Cr(t),yr(o,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bi(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_i(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_i(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bi(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Tr={provide:Le,useExisting:nt(()=>q)},Ci=Promise.resolve(),q=(()=>{class n extends Le{_changeDetectorRef;callSetDisabledState;control=new Dr;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _;constructor(t,o,i,r,s,h){super(),this._changeDetectorRef=s,this.callSetDisabledState=h,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Sr(this,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ar(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Ci.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let o=t.isDisabled.currentValue,i=o!==0&&bo(o);Ci.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kr(t,this._parent):[t]}static \u0275fac=function(o){return new(o||n)(k(Mn,9),k(ur,10),k(pr,10),k(Vn,10),k(ft,8),k(On,8))};static \u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ut([Tr]),Ae,be]})}return n})();var Pr={provide:Vn,useExisting:nt(()=>An),multi:!0};var Fr=(()=>{class n{_accessors=[];add(t,o){this._accessors.push([t,o])}remove(t){for(let o=this._accessors.length-1;o>=0;--o)if(this._accessors[o][1]===t){this._accessors.splice(o,1);return}}select(t){this._accessors.forEach(o=>{this._isSameGroup(o,t)&&o[1]!==t&&o[1].fireUncheck(t.value)})}_isSameGroup(t,o){return t[0].control?t[0]._parent===o._control._parent&&t[1].name===o.name:!1}static \u0275fac=function(o){return new(o||n)};static \u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),An=(()=>{class n extends yi{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=re(On,{optional:!0})??Rt;constructor(t,o,i,r){super(t,o),this._registry=i,this._injector=r}ngOnInit(){this._control=this._injector.get(Le),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(o){return new(o||n)(k(lt),k(Ce),k(Fr),k(ao))};static \u0275dir=X({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(o,i){o&1&&m("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[ut([Pr]),Ae]})}return n})();var Rr=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=He({type:n});static \u0275inj=ze({})}return n})();var L=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:On,useValue:t.callSetDisabledState??Rt}]}}static \u0275fac=function(o){return new(o||n)};static \u0275mod=He({type:n});static \u0275inj=ze({imports:[Rr]})}return n})();var $=[];for(let n=0;n<256;++n)$.push((n+256).toString(16).slice(1));function Ai(n,e=0){return($[n[e+0]]+$[n[e+1]]+$[n[e+2]]+$[n[e+3]]+"-"+$[n[e+4]]+$[n[e+5]]+"-"+$[n[e+6]]+$[n[e+7]]+"-"+$[n[e+8]]+$[n[e+9]]+"-"+$[n[e+10]]+$[n[e+11]]+$[n[e+12]]+$[n[e+13]]+$[n[e+14]]+$[n[e+15]]).toLowerCase()}var In,jr=new Uint8Array(16);function Sn(){if(!In){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");In=crypto.getRandomValues.bind(crypto)}return In(jr)}var Lr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dn={randomUUID:Lr};function Ur(n,e,t){if(Dn.randomUUID&&!e&&!n)return Dn.randomUUID();n=n||{};let o=n.random??n.rng?.()??Sn();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=o[i];return e}return Ai(o)}var ce=Ur;var $r=()=>({exact:!0}),zr=(n,e)=>e.id;function Hr(n,e){if(n&1&&(a(0,"a",13),S(1,"iconify-icon",14),a(2,"h3"),b(3),l()()),n&2){let t=e.$implicit;v("routerLink",t.route)("routerLinkActiveOptions",pt(5,$r)),ct("data-testid",t.id+"-nav"),p(),ct("icon",t.icon),p(2),z(t.label)}}var jt=class n{constructor(e){this.store=e}appIcon="assets/noteboard-icon.png";appTitle="Noteboard";username="Jessa Mae Agan";userAvatar="assets/userAvatar.jpg";totalNotes$;totalNotebooks$;destroy$=new Ve;ngOnInit(){this.totalNotes$=this.store.select(zo).pipe(P(e=>e.length)),this.totalNotebooks$=this.store.select(me).pipe(P(e=>e.length))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}menuItems=[{id:"all",label:"All",icon:"ic:round-dashboard",route:"/all"},{id:"notes",label:"Notes",icon:"fluent:note-48-regular",route:"/notes"},{id:"notebooks",label:"Notebooks",icon:"hugeicons:notebook-01",route:"/notebooks"},{id:"archive",label:"Archive",icon:"solar:archive-outline",route:"/archive"},{id:"trash",label:"Trash",icon:"mage:trash",route:"/trash"}];static \u0275fac=function(t){return new(t||n)(k(Z))};static \u0275cmp=T({type:n,selectors:[["app-sidebar"]],inputs:{appIcon:"appIcon",appTitle:"appTitle"},decls:26,vars:11,consts:[[1,"sidebar"],[1,"upper-part"],[1,"title-section"],["alt","App icon",3,"src"],[1,"app-title"],[1,"user-profile"],["alt","User Avatar",1,"avatar",3,"src"],[1,"username"],[1,"stats-section"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"nav-menu"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],[1,"nav-icon"]],template:function(t,o){t&1&&(a(0,"aside",0)(1,"div",1)(2,"div",2),S(3,"img",3),a(4,"h1",4),b(5),l()(),a(6,"div",5),S(7,"img",6),a(8,"h2",7),b(9),l()(),a(10,"div",8)(11,"div",9)(12,"span",10),b(13),xe(14,"async"),l(),a(15,"div",11),b(16,"Notes"),l()(),a(17,"div",9)(18,"span",10),b(19),xe(20,"async"),l(),a(21,"div",11),b(22,"Notebooks"),l()()()(),a(23,"div",12),W(24,Hr,4,6,"a",13,zr),l()()),t&2&&(p(3),v("src",fo(o.appIcon),J),p(2),z(o.appTitle),p(2),v("src",o.userAvatar,J),p(2),z(o.username),p(4),z(we(14,7,o.totalNotes$)),p(6),z(we(20,9,o.totalNotebooks$)),p(5),K(o.menuItems))},dependencies:[R,ht,Io,Oo,Ao],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;gap:2rem;width:280px;height:100vh;box-shadow:0 8px 30px #61828211;background:linear-gradient(92deg,var(--sidebar-gradient-color1) 0%,var(--sidebar-gradient-color2) 20%,var(--sidebar-gradient-color3) 80%);color:#fff;padding:2rem 0 0;display:flex;flex-direction:column;z-index:1000}.upper-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 1.5rem;gap:2rem;height:320px}.title-section[_ngcontent-%COMP%]{display:flex;direction:row;gap:.5rem;align-items:center}.title-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.user-profile[_ngcontent-%COMP%]{text-align:center}.avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:2px solid rgba(0,0,0,.9);margin-bottom:1rem}.username[_ngcontent-%COMP%]{margin:0}.stats-section[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:1rem;background:#ffffff1a;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:400}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.8}.nav-menu[_ngcontent-%COMP%]{flex:1;margin:0;padding:1.5rem;background-color:#fff}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1rem;color:var(--sidebar-menu-txt-color1);text-decoration:none;border-radius:8px;margin-bottom:0;transition:all .2s ease;position:relative}.nav-item[_ngcontent-%COMP%]:hover{background:#87c7cb19;transform:translate(4px)}.nav-item.active[_ngcontent-%COMP%]{background:var(--sidebar-gradient-color2);color:#fff;font-weight:600}h3[_ngcontent-%COMP%]{margin:0}.nav-icon[_ngcontent-%COMP%]{margin-right:1.2rem;font-size:1.4rem;color:var(--sidebar-menu-txt-color1)}.nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:#fff}"]})};function Gr(n,e){if(n&1){let t=w();a(0,"button",11),m("click",function(){c(t);let i=u();return d(i.clearSearch())}),S(1,"i",12),l()}}var Ut=class n{currentView="";searchTerm="";viewMode="grid";activeFilters=[];createNote=new _;createNotebook=new _;searchChange=new _;filterRemove=new _;onCreateNote(){this.createNote.emit()}onCreateNotebook(){this.createNotebook.emit()}onSearchChange(e){this.searchTerm=e,this.searchChange.emit(e)}clearSearch(){this.onSearchChange("")}removeFilter(e){this.filterRemove.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-header"]],inputs:{currentView:"currentView",searchTerm:"searchTerm",viewMode:"viewMode",activeFilters:"activeFilters"},outputs:{createNote:"createNote",createNotebook:"createNotebook",searchChange:"searchChange",filterRemove:"filterRemove"},decls:14,vars:2,consts:[[1,"header-actions"],[1,"main-action-buttons"],[1,"header-action-btn",3,"click"],["icon","lucide:plus"],["title","Add a notebook",1,"header-action-btn",3,"click"],["icon","fluent:notebook-add-20-regular"],[1,"search-section"],[1,"search-container"],["type","text","placeholder","Search notes and notebooks",1,"search-input",3,"ngModelChange","ngModel"],[1,"clear-search"],[1,"bi","bi-search","search-icon"],[1,"clear-search",3,"click"],[1,"bi","bi-x"]],template:function(t,o){t&1&&(a(0,"header")(1,"div",0)(2,"div",1)(3,"button",2),m("click",function(){return o.onCreateNote()}),S(4,"iconify-icon",3),a(5,"h3"),b(6,"Take a note"),l()(),a(7,"button",4),m("click",function(){return o.onCreateNotebook()}),S(8,"iconify-icon",5),l()(),a(9,"div",6)(10,"div",7)(11,"input",8),m("ngModelChange",function(r){return o.onSearchChange(r)}),l(),O(12,Gr,2,0,"button",9),S(13,"i",10),l()()()()),t&2&&(p(11),v("ngModel",o.searchTerm),p(),A(o.searchTerm?12:-1))},dependencies:[R,L,G,Y,q],styles:["header[_ngcontent-%COMP%]{position:fixed;top:0;left:280px;width:calc(100% - 280px);height:86px;z-index:999;padding:1rem 4rem;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.view-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.25rem}.current-view[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.main-action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:var(--header-action-btn-main);color:#fff;border:none;border-radius:8px;padding:.8rem 1.2rem;cursor:pointer;font-size:.875rem;box-shadow:0 2px 12px #0a1b294d;transition:all .2s ease}.header-action-btn[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--header-action-btn-txt-color);font-size:15px;font-weight:400;margin:0}.header-action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.header-action-btn[_ngcontent-%COMP%]:hover{background-color:#368f8f;outline:solid 1px var(--sidebar-gradient-color3);box-shadow:0 4px 6px #74c6d180}iconify-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.view-change-btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:0;padding:0;height:3.2rem;width:6.4rem;border-radius:8px;box-shadow:0 2px 8px #0000004d;background-color:var(--header-action-btn-secondary)}.header-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;padding:.8rem 1.2rem;margin:0;background:transparent;border-radius:8px;border:none;cursor:pointer;transition:all .2s ease;color:var(--header-action-btn-txt-color)}.header-btn[_ngcontent-%COMP%]:hover{background-color:#abdde563;box-shadow:0 4px 6px #74c6d180;transform:translateY(-1px)}.header-btn.active[_ngcontent-%COMP%]{background:var(--header-action-btn-main);border-color:var(--header-action-btn-secondary);color:#fff;margin:0;padding:.8rem .6rem}.search-section[_ngcontent-%COMP%]{flex:1;max-width:300px}.search-container[_ngcontent-%COMP%]{position:relative;width:100%}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--sidebar-menu-txt-color1);font-size:1rem;pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:2px solid #e5e7eb;border-radius:12px;font-weight:400;margin:0;transition:all .2s ease;background:#f9fafb;caret-color:#368f8f}.search-input[_ngcontent-%COMP%]::placeholder{color:#0004}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#438686;background:#fff;box-shadow:0 0 0 3px #667eea1a}.clear-search[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#9ca3af;cursor:pointer;padding:.25rem;border-radius:4px;transition:color .2s ease}.clear-search[_ngcontent-%COMP%]:hover{color:#6b7280}.filters-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1rem;flex-wrap:wrap}.filter-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.filter-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#667eea;color:#fff;border-radius:20px;font-size:.875rem;font-weight:500}.remove-filter[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;padding:0;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.remove-filter[_ngcontent-%COMP%]:hover{background:#fff3}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.search-section[_ngcontent-%COMP%]{order:-1;max-width:none;width:100%}}"]})};var ke=class n{constructor(e){this.el=e}clickOutside=new _;onClick(e){this.el.nativeElement.contains(e)||this.clickOutside.emit()}static \u0275fac=function(t){return new(t||n)(k(Ce))};static \u0275dir=X({type:n,selectors:[["","clickOutside",""]],hostBindings:function(t,o){t&1&&m("click",function(r){return o.onClick(r.target)},at)},outputs:{clickOutside:"clickOutside"}})};var Be=class n{appEscKey=new _;onEscape(e){e.preventDefault(),this.appEscKey.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=X({type:n,selectors:[["","appEscKey",""]],hostBindings:function(t,o){t&1&&m("keydown.escape",function(r){return o.onEscape(r)},at)},outputs:{appEscKey:"appEscKey"}})};var Wr=n=>({"background-color":n}),Kr=(n,e)=>e.id;function qr(n,e){n&1&&(a(0,"div",2)(1,"h2"),b(2,"Add this note to notebook"),l()())}function Qr(n,e){if(n&1&&(a(0,"div",4)(1,"h4"),b(2),l(),a(3,"p",9),b(4),xe(5,"slice"),l()()),n&2){let t=u();v("ngStyle",ho(7,Wr,t.note.color)),p(2),z(t.note.title),p(2),De("",go(5,3,t.note.content,0,100)," ...")}}function Zr(n,e){if(n&1){let t=w();a(0,"div",6)(1,"div",10)(2,"div",11),S(3,"i",12),a(4,"input",13),ne("ngModelChange",function(i){c(t);let r=u();return te(r.searchTerm,i)||(r.searchTerm=i),d(i)}),m("ngModelChange",function(i){c(t);let r=u();return d(r.onSearchChange(i))}),l()()()()}if(n&2){let t=u();p(4),ee("ngModel",t.searchTerm)}}function Yr(n,e){n&1&&(a(0,"div",19),S(1,"iconify-icon",20),a(2,"span"),b(3,"Added"),l()())}function Xr(n,e){if(n&1){let t=w();a(0,"li",15),m("click",function(){let i=c(t).$implicit,r=u(2);return d(!r.notebookContainsNote(i)&&r.selectNotebook(i))}),a(1,"div",16),S(2,"iconify-icon",17),a(3,"p",18),b(4),l()(),O(5,Yr,4,0,"div",19),l()}if(n&2){let t=e.$implicit,o=u(2);ye("already-contains",o.notebookContainsNote(t))("disabled",o.notebookContainsNote(t)),p(4),z(t.name),p(),A(o.notebookContainsNote(t)?5:-1)}}function Jr(n,e){if(n&1&&(a(0,"ul",7),W(1,Xr,6,6,"li",14,Kr),xe(3,"async"),l()),n&2){let t=u();p(),K(we(3,0,t.filteredNotebooks$))}}function es(n,e){if(n&1){let t=w();a(0,"div",8)(1,"p"),b(2,"No notebooks found."),l(),a(3,"button",21),m("click",function(){c(t);let i=u();return d(i.openCreateNotebook())}),b(4," Create one "),l()()}}var Bt=class n{constructor(e,t){this.store=e;this.eventBus=t;this.notebooks$=this.store.select(me),this.filteredNotebooks$=Kn([this.notebooks$,this.searchSubject.pipe(et(300),Xn(),io(""))]).pipe(P(([o,i])=>this.filterNotebooks(o,i)))}note=null;edit=new _;close=new _;notebookSelected=new _;notebookTitle="";noteTitle="";noteContent="";searchTerm="";searchSubject=new Un("");selectedNotebook=null;notebooks$;filteredNotebooks$;ngOnInit(){document.body.classList.add("modal-open")}ngOnDestroy(){document.body.classList.remove("modal-open")}filterNotebooks(e,t){if(!t)return e;let o=t.toLowerCase();return e.filter(i=>i.name.toLowerCase().includes(o))}onSearchChange(e){this.searchTerm=e,this.searchSubject.next(e)}selectNotebook(e){if(!this.note)return;if(this.notebookContainsNote(e)){alert("This note is already in the selected notebook."),this.close.emit();return}let t=N({},this.note),o=D(N({},e),{notes:[...e.notes,t],updatedAt:Date.now()});this.store.dispatch(pe({update:{id:e.id,changes:{notes:o.notes}}})),this.store.dispatch(vt({id:this.note.id})),this.close.emit()}notebookContainsNote(e){return e.notes.some(t=>t.id===this.note?.id)}openCreateNotebook(){this.close.emit(),this.eventBus.emitCreateNotebook()}addNotebook(){if(!this.notebookTitle.trim()){alert("Notebook title cannot be empty.");return}let e={id:ce(),name:this.notebookTitle.trim(),notes:[],createdAt:Date.now()};this.store.dispatch(yt({notebook:e})),this.notebookTitle="",this.close.emit()}editNotebook(e){this.edit.emit(e)}deleteNotebook(e){confirm("Are you sure you want to delete this notebook?")&&this.store.dispatch($o({id:e}))}static \u0275fac=function(t){return new(t||n)(k(Z),k(Te))};static \u0275cmp=T({type:n,selectors:[["app-modal-add-to-notebook"]],inputs:{note:"note"},outputs:{edit:"edit",close:"close",notebookSelected:"notebookSelected"},decls:13,vars:8,consts:[[1,"modal-background",3,"appEscKey"],[1,"modal-container",3,"clickOutside"],[1,"header-title-container"],[1,"note-preview-container"],[1,"note-preview",3,"ngStyle"],[1,"notebooks-section"],[1,"search-notebooks"],[1,"notebook-list"],[1,"empty-state"],[1,"note-content-preview"],[1,"search-container"],[1,"search-input-wrapper"],[1,"bi","bi-search","search-icon"],["type","text","placeholder","Search notebooks",1,"search-input",3,"ngModelChange","ngModel"],[1,"notebook-item",3,"already-contains","disabled"],[1,"notebook-item",3,"click"],[1,"notebook-info"],["icon","noto-v1:notebook"],[1,"notebook-name"],[1,"notebook-status"],["icon","lets-icons:check-fill",1,"check-icon"],[1,"link-button",3,"click"]],template:function(t,o){t&1&&(a(0,"div",0),m("appEscKey",function(){return o.close.emit()}),a(1,"div",1),m("clickOutside",function(){return o.close.emit()}),O(2,qr,3,0,"div",2),a(3,"div",3),O(4,Qr,6,9,"div",4),l(),a(5,"div",5)(6,"h6"),b(7,"Select a notebook"),l(),O(8,Zr,5,1,"div",6),xe(9,"async"),O(10,Jr,4,2,"ul",7),xe(11,"async"),po(12,es,5,0,"div",8),l()()()),t&2&&(p(2),A(o.note?2:-1),p(2),A(o.note?4:-1),p(4),A(we(9,4,o.notebooks$).length>5?8:-1),p(2),A(we(11,6,o.filteredNotebooks$).length>0?10:12))},dependencies:[R,yo,ht,xo,L,G,Y,q,ke,Be],styles:[".modal-background[_ngcontent-%COMP%]{background:#000000b3;position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;width:30%}.header-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.note-preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.note-preview-container[_ngcontent-%COMP%]   .note-preview[_ngcontent-%COMP%]{width:94%;padding:1rem;margin:.5rem auto 1.4rem;border-radius:6px;outline:.5px solid rgba(150,150,150,.5)}.notebooks-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.notebooks-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{width:100%}.notebooks-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%}.notebooks-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--sidebar-menu-txt-color1);font-size:1rem;pointer-events:none}.notebooks-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.5rem;border:2px solid #e5e7eb;border-radius:12px;font-weight:400;margin:0;transition:all .2s ease;background:#f9fafb}.notebooks-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#0004}.notebooks-section[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#438686;background:#fff;box-shadow:0 0 0 3px #667eea1a}.notebooks-section[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#9ca3af;cursor:pointer;padding:.25rem;border-radius:4px;transition:color .2s ease}.notebooks-section[_ngcontent-%COMP%]   .clear-search[_ngcontent-%COMP%]:hover{color:#6b7280}.divider[_ngcontent-%COMP%]{height:.6rem;width:100%;padding:0;margin:0 0 1rem;background-color:#eaeaea}ul[_ngcontent-%COMP%]{list-style:none;padding:0 1.2rem 0 0;display:flex;flex-direction:column;gap:.5rem;margin-bottom:0;height:auto;max-height:390px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#366f67f2 #15764f08}li[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.notebook-item[_ngcontent-%COMP%]{border-radius:6px;cursor:pointer}.notebook-item[_ngcontent-%COMP%]:hover{background-color:#d4f2f253}.notebook-item.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5;cursor:not-allowed;background-color:#f5f5f5}.notebook-item[_ngcontent-%COMP%]   .notebook-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1rem}.notebook-item[_ngcontent-%COMP%]   .notebook-info[_ngcontent-%COMP%]   iconify-icon[_ngcontent-%COMP%]{color:#589595;font-size:1.6rem;padding:.4rem 0 .4rem .8rem;display:flex;align-self:flex-start}.notebook-item[_ngcontent-%COMP%]   .notebook-info[_ngcontent-%COMP%]   .notebook-name[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;max-width:360px}.notebook-status[_ngcontent-%COMP%]{min-width:5rem;align-self:flex-start;padding-top:.4rem}h2[_ngcontent-%COMP%]{color:#589595;cursor:default}h6[_ngcontent-%COMP%]{margin-bottom:0;color:#6d6d6d;font-size:medium;cursor:default}h4[_ngcontent-%COMP%]{cursor:default}p[_ngcontent-%COMP%]{margin-bottom:0}.note-content-preview[_ngcontent-%COMP%]{cursor:default}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;gap:.4em}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0;align-self:center}.empty-state[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;gap:.4em;padding:.5rem .6rem;margin:0;font-size:1rem;border-radius:8px;border:none;cursor:pointer;background-color:#eaeaea7c;color:#30a0a0;box-sizing:border-box}.empty-state[_ngcontent-%COMP%]   .link-button[_ngcontent-%COMP%]:hover{background-color:#e1e1e17c}"]})};var ts=["noteTextArea"],ns=["fileInput"];function os(n,e){n&1&&(a(0,"div",22),b(1,"Loading..."),l())}function is(n,e){if(n&1){let t=w();a(0,"img",25),m("click",function(){c(t);let i=u().$implicit,r=u(2);return d(r.openImage(i.data))}),l()}if(n&2){let t=u().$implicit;v("src",t.data,J)}}function rs(n,e){if(n&1){let t=w();a(0,"button",26),m("click",function(){c(t);let i=u().$index,r=u(2);return d(r.removeSelectedImage(i))}),b(1," \xD7 "),l()}}function ss(n,e){if(n&1&&(a(0,"div",20)(1,"div",21),O(2,os,2,0,"div",22),O(3,is,1,1,"img",23),l(),O(4,rs,2,0,"button",24),l()),n&2){let t=e.$implicit;p(2),A(t.loading?2:-1),p(),A(!t.loading&&t.data?3:-1),p(),A(t.loading?-1:4)}}function as(n,e){if(n&1&&(a(0,"div",8),W(1,ss,5,3,"div",20,Se),l()),n&2){let t=u();p(),K(t.selectedImages)}}function ls(n,e){if(n&1&&(a(0,"div",9)(1,"small"),b(2),l()()),n&2){let t=u();p(2),mo(" Loading ",t.loadingImagesCount," image",t.loadingImagesCount>1?"s":"","... ")}}function cs(n,e){if(n&1){let t=w();a(0,"div",27),m("click",function(){c(t);let i=u();return d(i.closeImage())}),a(1,"img",28),m("click",function(i){return c(t),d(i.stopPropagation())}),l(),a(2,"button",29),m("click",function(){c(t);let i=u();return d(i.closeImage())}),b(3,"\xD7"),l()()}if(n&2){let t=u();p(),v("src",t.selectedImage,J)}}function ds(n,e){if(n&1){let t=w();a(0,"label")(1,"input",30),ne("ngModelChange",function(i){c(t);let r=u();return te(r.noteColor,i)||(r.noteColor=i),d(i)}),l(),S(2,"span",31),l()}if(n&2){let t=e.$implicit,o=u();p(),v("value",t),ee("ngModel",o.noteColor),p(),ve("background-color",t)}}function us(n,e){n&1&&(a(0,"span"),b(1,"Add Note"),l())}function ps(n,e){n&1&&(a(0,"span"),S(1,"span",32),b(2," Processing Images... "),l())}var $t=class n{constructor(e,t,o){this.store=e;this.eventBus=t;this.cdr=o;this.notebooks$=this.store.select(me)}close=new _;noteTextarea;fileInput;noteTitle="";noteContent="";editingNoteID=null;searchTerm="";selectedNote=null;notePinned=!1;selectedNotebookId=null;noteColor="#ffffff";modalColor="#ffffff";availableColors=["#ffffff","#ffc8c2ff","#ffe09dff","#fffbcdff","#e0fcc1ff","#caf6edff","#cceff7ff","#e0d6e9ff"];selectedImage=null;selectedImages=[];notebooks$;ngOnInit(){document.body.classList.add("modal-open")}ngOnDestroy(){document.body.classList.remove("modal-open")}ngAfterViewInit(){this.noteTextarea?.nativeElement?.focus()}openAddNoteModal(){this.eventBus.triggerAddNoteModal()}openAddToNotebookModal(e){this.eventBus.triggerAddToNotebookModal(e)}addNote(){if(!this.noteTitle.trim()||!this.noteContent.trim()){alert("Note title and content cannot be empty.");return}let e=this.selectedImages.filter(o=>!o.loading).map(o=>o.data),t={id:ce(),title:this.noteTitle,content:this.noteContent,color:this.noteColor,pinned:this.notePinned,createdAt:Date.now(),images:e};this.store.dispatch(Ct({note:t})),this.selectedNotebookId&&this.notebooks$.subscribe(i=>{let r=i.find(s=>s.id===this.selectedNotebookId);if(r){let s=D(N({},r),{notes:[...r.notes,t]});this.store.dispatch(pe({update:{id:s.id,changes:{notes:s.notes}}}))}}).unsubscribe(),this.resetForm(),this.close.emit()}resetForm(){if(this.editingNoteID=null,this.noteTitle="",this.noteContent="",this.noteColor="#ffffff",this.notePinned=!1,this.selectedNotebookId=null,this.selectedImages=[],this.noteTextarea){let e=this.noteTextarea.nativeElement;e.style.height="auto"}}triggerImageUpload(){this.fileInput.nativeElement.click()}onImageSelected(e){let t=e.target;t.files&&t.files.length>0&&(Array.from(t.files).forEach(o=>{let i=ce();this.selectedImages.push({data:"",loading:!0,id:i}),this.cdr.detectChanges();let r=new FileReader;r.onload=s=>{let h=this.selectedImages.findIndex(y=>y.id===i);h!==-1&&typeof r.result=="string"&&(this.selectedImages[h]={data:r.result,loading:!1,id:i},this.cdr.detectChanges())},r.onerror=()=>{this.selectedImages=this.selectedImages.filter(s=>s.id!==i),this.cdr.detectChanges(),console.error("Error reading file:",o.name)},r.readAsDataURL(o)}),t.value="")}removeSelectedImage(e){this.selectedImages.splice(e,1),this.cdr.detectChanges()}openImage(e){this.selectedImage=e}closeImage(){this.selectedImage=null}get allImagesLoaded(){return this.selectedImages.every(e=>!e.loading)}get loadingImagesCount(){return this.selectedImages.filter(e=>e.loading).length}togglePin(){this.notePinned=!this.notePinned}getNoteForEmit(){let e=this.selectedImages.filter(t=>!t.loading).map(t=>t.data);return{id:"",title:this.noteTitle,content:this.noteContent,color:this.noteColor,pinned:this.notePinned,createdAt:Date.now(),images:e}}static \u0275fac=function(t){return new(t||n)(k(Z),k(Te),k(ft))};static \u0275cmp=T({type:n,selectors:[["app-modal-add-new-note"]],viewQuery:function(t,o){if(t&1&&(se(ts,5),se(ns,5)),t&2){let i;ae(i=le())&&(o.noteTextarea=i.first),ae(i=le())&&(o.fileInput=i.first)}},outputs:{close:"close"},decls:24,vars:12,consts:[["fileInput",""],["noteTextArea",""],[1,"modal-background"],["clickOutside","",1,"modal-container",3,"clickOutside","click"],["type","file","accept","image/*","multiple","",2,"display","none",3,"change"],[1,"header"],["type","text","placeholder","Note Title",1,"title-input",3,"ngModelChange","keyup.enter","keyup.esc","ngModel"],["placeholder","Take a note...","autoResize","",3,"ngModelChange","keyup.esc","ngModel"],[1,"image-preview"],[1,"loading-status"],[1,"image-overlay"],[1,"pin-icon"],[1,"bi",3,"click","ngClass","title"],[1,"color-picker"],[1,"buttons-container",3,"click"],[1,"left-buttons"],["customClass","image-button","icon","cuida:image-outline","title","Upload image",3,"clicked"],["customClass","archive-button","icon","mage:archive","title","Archive note"],["customClass","reminder-button","icon","carbon:reminder","title","Add reminder"],[1,"add-note-button",3,"click","disabled","title"],[1,"image-wrapper"],[1,"image-container"],[1,"loading-indicator"],["alt","Preview image",1,"preview-thumbnail",2,"cursor","zoom-in",3,"src"],["title","Remove image",1,"remove-image-button"],["alt","Preview image",1,"preview-thumbnail",2,"cursor","zoom-in",3,"click","src"],["title","Remove image",1,"remove-image-button",3,"click"],[1,"image-overlay",3,"click"],[1,"full-image",3,"click","src"],[1,"close-overlay",3,"click"],["type","radio","name","noteColor",3,"ngModelChange","value","ngModel"],[1,"color-swatch"],[1,"button-spinner"]],template:function(t,o){if(t&1){let i=w();a(0,"div",2)(1,"div",3),m("clickOutside",function(){return c(i),d(o.close.emit())})("click",function(s){return c(i),d(s.stopPropagation())}),a(2,"input",4,0),m("change",function(s){return c(i),d(o.onImageSelected(s))}),l(),a(4,"div",5)(5,"input",6),ne("ngModelChange",function(s){return c(i),te(o.noteTitle,s)||(o.noteTitle=s),d(s)}),m("keyup.enter",function(){return c(i),d(o.addNote())})("keyup.esc",function(){return c(i),d(o.close.emit())}),l(),a(6,"textarea",7,1),ne("ngModelChange",function(s){return c(i),te(o.noteContent,s)||(o.noteContent=s),d(s)}),m("keyup.esc",function(){return c(i),d(o.close.emit())}),l()(),O(8,as,3,0,"div",8),O(9,ls,3,2,"div",9),O(10,cs,4,1,"div",10),a(11,"div",11)(12,"i",12),m("click",function(){return c(i),d(o.togglePin())}),l()(),a(13,"div",13),W(14,ds,3,4,"label",null,dt),l(),a(16,"div",14),m("click",function(s){return c(i),d(s.stopPropagation())}),a(17,"div",15)(18,"app-button-feature",16),m("clicked",function(){return c(i),d(o.triggerImageUpload())}),l(),S(19,"app-button-feature",17)(20,"app-button-feature",18),l()(),a(21,"button",19),m("click",function(){return c(i),d(o.addNote())}),O(22,us,2,0,"span")(23,ps,3,0,"span"),l()()()}t&2&&(p(),ve("background-color",o.noteColor),p(4),ee("ngModel",o.noteTitle),p(),ee("ngModel",o.noteContent),p(2),A(o.selectedImages.length>0?8:-1),p(),A(o.loadingImagesCount>0?9:-1),p(),A(o.selectedImage?10:-1),p(2),v("ngClass",o.notePinned?"bi-pin-fill":"bi-pin")("title",o.notePinned?"Unpin":"Pin"),p(2),K(o.availableColors),p(7),v("disabled",!o.allImagesLoaded&&o.selectedImages.length>0)("title",!o.allImagesLoaded&&o.selectedImages.length>0?"Please wait for images to finish loading":"Add Note"),p(),A(o.allImagesLoaded||o.selectedImages.length===0?22:23))},dependencies:[R,Co,L,G,An,Y,q,Et,ke],styles:[".modal-background[_ngcontent-%COMP%]{background:#000000b3;position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-container[_ngcontent-%COMP%]{position:relative;background:#fff;padding:2rem;border-radius:8px;width:30%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left;align-items:flex-start;gap:0;padding:0;margin:0}.header[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:94%;padding:.5rem;margin-bottom:0;background-color:transparent;border:none;border-radius:4px;font-size:1.2rem;font-weight:600;font-family:Reddit Sans,sans-serif}.header[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;border:none}.header[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:200px;max-height:400px;padding:.5rem 1rem .5rem .5rem;margin-top:0;margin-bottom:1rem;font-size:1rem;font-family:Reddit Sans,sans-serif;background-color:transparent;border:none;border-radius:4px;overflow-y:auto;resize:none;scrollbar-width:thin;scrollbar-color:#00000042 transparent}.header[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}.pin-icon[_ngcontent-%COMP%]{position:absolute;top:30px;right:22px;padding:.5rem .5rem .4rem;cursor:pointer;font-size:1.2rem;color:#575757;z-index:10}.pin-icon[_ngcontent-%COMP%]:hover{color:#000;background-color:var(--feature-button-hover-background-color);border-radius:20%}.note-form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0}.hidden-file-input[_ngcontent-%COMP%]{display:none}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:.5rem;margin-top:0;margin-bottom:1rem;overflow-x:auto;width:auto;height:70%;scrollbar-width:thin;scrollbar-color:#00000042 transparent;scroll-margin:20px}.image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;padding-top:.5rem;padding-bottom:.5rem;min-width:80px}.image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:6px;overflow:hidden}.preview-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:6px;border:1px solid #ccc;transition:transform .2s ease}.preview-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.remove-image-button[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;top:0;right:-6px;background-color:#aab8bd99;color:#fff;border:none;border-radius:50%;width:30px;height:30px;font-size:14px;line-height:1;cursor:pointer;transition:all .2s ease-in-out;opacity:0;z-index:10}.image-wrapper[_ngcontent-%COMP%]:hover   .remove-image-button[_ngcontent-%COMP%]{opacity:1}.remove-image-button[_ngcontent-%COMP%]:hover{background-color:#c33}.loading-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;background-color:#f8f9fa;color:#666;font-size:11px;border-radius:6px;border:1px solid #e9ecef;gap:4px}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e9ecef;border-top:2px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:.5rem;color:#666;font-size:12px;font-style:italic}.image-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;z-index:9999;display:flex;align-items:center;justify-content:center;cursor:zoom-out}.full-image[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;border-radius:8px;box-shadow:0 0 20px #ffffff1a;cursor:default}.close-overlay[_ngcontent-%COMP%]{position:fixed;top:20px;right:30px;font-size:32px;color:#fff;background:none;border:none;cursor:pointer;z-index:10000}.close-overlay[_ngcontent-%COMP%]:hover{color:#faa}.color-picker[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.color-picker[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.color-swatch[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:2px solid #ccc;display:inline-block;transition:border-color .2s}.color-swatch[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-picker[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .color-swatch[_ngcontent-%COMP%]{border-color:#000}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;transition:opacity .2s ease-in-out;opacity:1}.left-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.add-note-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:.8rem 1.2rem;margin:.8rem 0 0;width:100%;font-size:1rem;color:#fff;border-radius:8px;border:none;cursor:pointer;background-color:var(--header-action-btn-main);box-shadow:0 2px 8px #0000004d;box-sizing:border-box;transition:all .2s ease;gap:8px}.add-note-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5d9c9c;transform:translateY(-1px)}.add-note-button[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed;opacity:.7}.button-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;display:inline-block}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:90%;margin:1rem}.image-preview[_ngcontent-%COMP%]{flex-wrap:wrap}.image-wrapper[_ngcontent-%COMP%]{min-width:60px}.image-container[_ngcontent-%COMP%]{width:60px;height:60px}}"]})};var ms=["titleInput"],zt=class n{constructor(e){this.store=e}close=new _;notebookCreated=new _;titleInput;notebookTitle="";notebookDescription="";ngOnInit(){document.body.classList.add("modal-open")}ngOnDestroy(){document.body.classList.remove("modal-open")}ngAfterViewInit(){this.titleInput?.nativeElement?.focus()}createNotebook(){let e=this.notebookTitle.trim();if(!e){alert("Please enter a notebook title.");return}this.store.select(me).pipe(he(1)).subscribe(t=>{if(t.find(r=>r.name.toLowerCase()===e.toLowerCase())){alert("A notebook with this title already exists.");return}let i={id:ce(),name:e,notes:[],createdAt:Date.now()};this.store.dispatch(yt({notebook:i})),this.notebookCreated.emit(i),this.close.emit()})}onCancel(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(k(Z))};static \u0275cmp=T({type:n,selectors:[["app-modal-create-notebook"]],viewQuery:function(t,o){if(t&1&&se(ms,5),t&2){let i;ae(i=le())&&(o.titleInput=i.first)}},outputs:{close:"close",notebookCreated:"notebookCreated"},decls:11,vars:1,consts:[["titleInput",""],[1,"modal-background"],["clickOutside","",1,"modal-container",3,"clickOutside","click"],[1,"header-title-container"],[1,"form-section"],["type","text","placeholder","Notebook Title",1,"notebook-title-input",3,"ngModelChange","keyup.enter","keyup.esc","ngModel"],[1,"modal-footer"],[1,"create-button",3,"click"]],template:function(t,o){if(t&1){let i=w();a(0,"div",1)(1,"div",2),m("clickOutside",function(){return c(i),d(o.close.emit())})("click",function(s){return c(i),d(s.stopPropagation())}),a(2,"div",3)(3,"h2"),b(4,"Create a Notebook"),l()(),a(5,"div",4)(6,"input",5,0),ne("ngModelChange",function(s){return c(i),te(o.notebookTitle,s)||(o.notebookTitle=s),d(s)}),m("keyup.enter",function(){return c(i),d(o.createNotebook())})("keyup.esc",function(){return c(i),d(o.close.emit())}),l()(),a(8,"div",6)(9,"button",7),m("click",function(){return c(i),d(o.createNotebook())}),b(10,"Create"),l()()()()}t&2&&(p(6),ee("ngModel",o.notebookTitle))},dependencies:[R,L,G,Y,q,ke],styles:[".modal-background[_ngcontent-%COMP%]{background:#000000b3;position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;width:30%}.header-title-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header-title-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#589595}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:0;padding:0;margin:0}.notebook-title-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:0;background-color:transparent;border:none;border-radius:4px;font-size:1.2rem;font-weight:600;font-family:Reddit Sans,sans-serif}.create-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:.8rem 1.2rem;margin:1.5rem 0 0;width:100%;font-size:1rem;color:#fff;border-radius:8px;border:none;cursor:pointer;background-color:var(--header-action-btn-main);box-shadow:0 2px 8px #0000004d;box-sizing:border-box}.create-button[_ngcontent-%COMP%]:hover{background-color:#5d9c9c}"]})};var fs=(n,e)=>e.id;function hs(n,e){if(n&1&&(a(0,"li",11),S(1,"input",12),a(2,"span"),b(3),l()()),n&2){let t=e.$implicit;p(),v("checked",t.checked),p(2),z(t.text)}}function gs(n,e){if(n&1&&(a(0,"ul",3),W(1,hs,4,2,"li",11,fs),l()),n&2){let t=u(2);p(),K(t.checkboxes)}}function _s(n,e){if(n&1&&(a(0,"p"),b(1),l()),n&2){let t=u(2);p(),z(t.note.content)}}function bs(n,e){n&1&&(a(0,"p",4),b(1,"This note has no content."),l())}function Cs(n,e){if(n&1){let t=w();a(0,"div",6)(1,"img",13),m("click",function(){let i=c(t).$implicit,r=u(2);return d(r.openImage(i))}),l()()}if(n&2){let t=e.$implicit;p(),v("src",t,J)}}function vs(n,e){if(n&1){let t=w();a(0,"div",14),m("click",function(){c(t);let i=u(2);return d(i.closeImage())}),a(1,"img",15),m("click",function(i){return c(t),d(i.stopPropagation())}),l(),b(2," /> "),a(3,"button",16),m("click",function(){c(t);let i=u(2);return d(i.closeImage())}),b(4,"\xD7"),l()()}if(n&2){let t=u(2);p(),v("src",t.selectedImage,J)}}function ys(n,e){if(n&1){let t=w();a(0,"div",0)(1,"h3",1),m("click",function(){c(t);let i=u();return d(i.onEdit("title"))}),b(2),l(),a(3,"div",2),m("click",function(){c(t);let i=u();return d(i.onEdit("content"))}),O(4,gs,3,0,"ul",3)(5,_s,2,1,"p")(6,bs,2,0,"p",4),l(),a(7,"div",5),W(8,Cs,2,1,"div",6,Se),O(10,vs,5,1,"div",7),l(),a(11,"div",8)(12,"button",9),m("click",function(){c(t);let i=u();return d(i.onEdit("content"))}),b(13,"Edit"),l(),a(14,"button",10),m("click",function(){c(t);let i=u();return d(i.onClose())}),b(15,"Close"),l()()()}if(n&2){let t=u();p(2),De(" ",t.note.title," "),p(2),A(t.checkboxes.length>0?4:t.note.content.trim()?5:6),p(4),K(t.images),p(2),A(t.selectedImage?10:-1)}}var Ht=class n{note;images=[];checkboxes=[];edit=new _;close=new _;selectedImage=null;onEdit(e){this.edit.emit(e)}onClose(){this.close.emit()}openImage(e){this.selectedImage=e}closeImage(){this.selectedImage=null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-modal-note-view"]],inputs:{note:"note",images:"images",checkboxes:"checkboxes"},outputs:{edit:"edit",close:"close"},decls:1,vars:1,consts:[[1,"modal-view"],[1,"note-title",3,"click"],[1,"modal-scrollable-content",3,"click"],[1,"checkbox-list"],[1,"empty-note-message"],[1,"image-preview"],[1,"image-wrapper"],[1,"image-overlay"],[1,"modal-footer-buttons"],[3,"click"],[1,"close-btn",3,"click"],[1,"checkbox-item"],["type","checkbox","disabled","",3,"checked"],[1,"preview-thumbnail",2,"cursor","zoom-in",3,"click","src"],[1,"image-overlay",3,"click"],[1,"full-image",3,"click","src"],[1,"close-overlay",3,"click"]],template:function(t,o){t&1&&O(0,ys,16,3,"div",0),t&2&&A(o.note?0:-1)},dependencies:[R],styles:[".modal-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-y:auto;padding:.5rem}.modal-scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:1rem;cursor:default;scrollbar-width:thin;scrollbar-color:#00000042 transparent}.modal-footer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;background-color:inherit;padding:0;position:sticky;bottom:0;z-index:1}.note-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;line-height:1.3;width:86%;font-family:Domine,serif}.modal-view[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;color:#343434;height:auto;max-height:56vh}.close-btn[_ngcontent-%COMP%], button[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;color:#4f4f4f;background-color:transparent;border:none;cursor:pointer;justify-content:right}.close-btn[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover, li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-radius:8px;background-color:#0001}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}input[type=file][_ngcontent-%COMP%]{display:none}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:10px;overflow-x:auto;margin:0 0 1.5rem}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.preview-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.image-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;z-index:9999;display:flex;align-items:center;justify-content:center;cursor:zoom-out}.full-image[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;border-radius:8px;box-shadow:0 0 20px #ffffff1a;cursor:default}.close-overlay[_ngcontent-%COMP%]{position:fixed;top:20px;right:30px;font-size:32px;color:#fff;background:none;border:none;cursor:pointer;z-index:10000}.close-overlay[_ngcontent-%COMP%]:hover{color:#faa}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#f0f0f0;color:#666;font-size:12px;border-radius:8px}.content-mode-toggle[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center}.mode-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #e2e8f0;border-radius:20px;background:#fff;color:#4a5568;font-size:14px;cursor:pointer;transition:all .2s ease}.mode-toggle-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.mode-toggle-btn.active[_ngcontent-%COMP%]{border-color:#3182ce;background:#ebf8ff;color:#3182ce}.mode-icon[_ngcontent-%COMP%]{font-style:normal;font-size:16px}.add-checkboxes-button.active[_ngcontent-%COMP%]{background-color:#ebf8ff!important;color:#3182ce!important;border-color:#3182ce!important}.empty-note-message[_ngcontent-%COMP%]{font-style:italic;color:#999;text-align:center;padding:1rem}"]})};var Gt=class n{constructor(e){this.el=e}ngModel="";maxHeight=500;adjustHeight(){let e=this.el.nativeElement;e.style.height="auto",e.style.height=Math.min(e.scrollHeight,this.maxHeight)+"px"}ngAfterViewInit(){setTimeout(()=>this.adjustHeight(),0)}ngOnChanges(e){"ngModel"in e&&setTimeout(()=>this.adjustHeight(),0)}static \u0275fac=function(t){return new(t||n)(k(Ce))};static \u0275dir=X({type:n,selectors:[["textarea","autoResize",""]],hostBindings:function(t,o){t&1&&m("input",function(){return o.adjustHeight()})},inputs:{ngModel:"ngModel"},features:[be]})};var xs=(n,e)=>e.id;function ks(n,e){if(n&1){let t=w();a(0,"div",3),m("dragstart",function(i){let r=c(t).$index,s=u();return d(s.onDragStart(i,r))})("dragover",function(i){c(t);let r=u();return d(r.onDragOver(i))})("drop",function(i){let r=c(t).$index,s=u();return d(s.onDrop(i,r))})("dragend",function(){c(t);let i=u();return d(i.onDragEnd())}),a(1,"div",4)(2,"i",5),b(3,"\u2261"),l()(),a(4,"div",6)(5,"input",7),m("change",function(){let i=c(t).$implicit,r=u();return d(r.toggleCheckbox(i.id))}),l(),a(6,"span",8),b(7),l()(),a(8,"input",9),ne("ngModelChange",function(i){let r=c(t).$implicit;return te(r.text,i)||(r.text=i),d(i)}),m("blur",function(){let i=c(t).$implicit,r=u();return d(r.updateCheckboxText(i.id,i.text))})("keyup.enter",function(i){c(t);let r=u();return d(r.onEnterKey(i))})("keyup",function(i){let r=c(t).$implicit,s=u();return d(s.onKeyup(i,r))}),l(),a(9,"button",10),m("click",function(){let i=c(t).$implicit,r=u();return d(r.removeCheckbox(i.id))}),b(10," \xD7 "),l()()}if(n&2){let t=e.$implicit,o=e.$index,i=u();ye("completed",t.checked)("dragging",i.draggingIndex===o),p(5),v("checked",t.checked),p(2),z(t.checked?"\u2611":"\u2610"),p(),ee("ngModel",t.text)}}var Wt=class n{checkboxes=[];checkboxesChange=new _;sortedCheckboxes=[];draggingIndex=-1;ngOnInit(){this.sortedCheckboxes=[...this.checkboxes].sort((e,t)=>e.order-t.order)}ngOnChanges(){this.sortedCheckboxes=[...this.checkboxes].sort((e,t)=>e.order-t.order)}addNewCheckbox(){let e={id:Date.now().toString(),text:"",checked:!1,order:this.checkboxes.length};this.sortedCheckboxes.push(e),this.emitChanges(),setTimeout(()=>{let t=document.querySelectorAll(".checkbox-text-input"),o=t[t.length-1];o&&o.focus()},100)}toggleCheckbox(e){let t=this.sortedCheckboxes.find(o=>o.id===e);t&&(t.checked=!t.checked,this.emitChanges())}updateCheckboxText(e,t){let o=this.sortedCheckboxes.find(i=>i.id===e);o&&(o.text=t.trim(),this.emitChanges())}removeCheckbox(e){this.sortedCheckboxes=this.sortedCheckboxes.filter(t=>t.id!==e),this.reorderCheckboxes(),this.emitChanges()}deleteIfEmpty(e,t){t.key==="Backspace"&&e.text.trim()===""&&this.sortedCheckboxes.length>1&&this.removeCheckbox(e.id)}onDragStart(e,t){this.draggingIndex=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString()))}onDragOver(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}onDrop(e,t){if(e.preventDefault(),this.draggingIndex!==-1&&this.draggingIndex!==t){let o=this.sortedCheckboxes[this.draggingIndex];this.sortedCheckboxes.splice(this.draggingIndex,1),t>this.draggingIndex?this.sortedCheckboxes.splice(t-1,0,o):this.sortedCheckboxes.splice(t,0,o),this.reorderCheckboxes(),this.emitChanges()}}onDragEnd(){this.draggingIndex=-1}reorderCheckboxes(){this.sortedCheckboxes.forEach((e,t)=>{e.order=t})}emitChanges(){this.checkboxesChange.emit([...this.sortedCheckboxes])}onEnterKey(e){e.target.blur()}onKeyup(e,t){e.key==="Backspace"&&t.text.trim()===""&&this.sortedCheckboxes.length>1&&this.removeCheckbox(t.id)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-draggable-checkboxes"]],inputs:{checkboxes:"checkboxes"},outputs:{checkboxesChange:"checkboxesChange"},features:[be],decls:5,vars:0,consts:[[1,"checkboxes-container"],["draggable","true",1,"checkbox-item",3,"completed","dragging"],["type","button",1,"add-checkbox-btn",3,"click"],["draggable","true",1,"checkbox-item",3,"dragstart","dragover","drop","dragend"],[1,"drag-handle"],[1,"drag-icon"],[1,"checkbox-input-container"],["type","checkbox",1,"checkbox-input",3,"change","checked"],[1,"custom-checkbox"],["type","text","placeholder","Add item...",1,"checkbox-text-input",3,"ngModelChange","blur","keyup.enter","keyup","ngModel"],["type","button",1,"remove-checkbox-btn",3,"click"]],template:function(t,o){t&1&&(a(0,"div",0),W(1,ks,11,7,"div",1,xs),a(3,"button",2),m("click",function(){return o.addNewCheckbox()}),b(4," + Add item "),l()()),t&2&&(p(),K(o.sortedCheckboxes))},dependencies:[R,L,G,Y,q],styles:[".checkboxes-container[_ngcontent-%COMP%]{margin:1rem 0}.checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;margin-bottom:.5rem;border:1px solid #e2e8f0;border-radius:4px;background:#fff;transition:all .2s ease;cursor:move}.checkbox-item[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;box-shadow:0 1px 3px #0000001a}.checkbox-item.dragging[_ngcontent-%COMP%]{opacity:.5;transform:rotate(2deg)}.checkbox-item.completed[_ngcontent-%COMP%]{opacity:.7}.checkbox-item.completed[_ngcontent-%COMP%]   .checkbox-text-input[_ngcontent-%COMP%]{text-decoration:line-through;color:#718096}.drag-handle[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:grab;color:#a0aec0;font-size:18px;padding:.25rem}.drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.drag-icon[_ngcontent-%COMP%]{font-style:normal}.checkbox-input-container[_ngcontent-%COMP%]{position:relative}.checkbox-input[_ngcontent-%COMP%]{opacity:0;position:absolute;pointer-events:none}.custom-checkbox[_ngcontent-%COMP%]{font-size:18px;cursor:pointer;-webkit-user-select:none;user-select:none;color:#4a5568}.checkbox-text-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:.25rem;font-size:14px;background:transparent}.checkbox-text-input[_ngcontent-%COMP%]:focus{background:#f7fafc;border-radius:2px}.remove-checkbox-btn[_ngcontent-%COMP%]{background:none;border:none;color:#e53e3e;font-size:18px;cursor:pointer;padding:.25rem;border-radius:2px;opacity:0;transition:opacity .2s ease}.checkbox-item[_ngcontent-%COMP%]:hover   .remove-checkbox-btn[_ngcontent-%COMP%]{opacity:1}.remove-checkbox-btn[_ngcontent-%COMP%]:hover{background:#fed7d7}.add-checkbox-btn[_ngcontent-%COMP%]{background:none;border:1px dashed #cbd5e0;color:#718096;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-size:14px;width:100%;transition:all .2s ease}.add-checkbox-btn[_ngcontent-%COMP%]:hover{border-color:#a0aec0;color:#4a5568;background:#f7fafc}"]})};var ws=["titleInput"],Ms=["textAreaInput"],Es=["modalImageInput"];function Ns(n,e){if(n&1){let t=w();a(0,"app-draggable-checkboxes",23),m("checkboxesChange",function(i){c(t);let r=u();return d(r.onCheckboxesChanged(i))}),l()}if(n&2){let t=u();v("checkboxes",t.localCheckboxes)}}function Vs(n,e){if(n&1){let t=w();a(0,"textarea",24,2),m("ngModelChange",function(i){c(t);let r=u();return d(r.contentChange.emit(i))})("keyup.esc",function(){c(t);let i=u();return d(i.cancel.emit())}),l()}if(n&2){let t=u();v("ngModel",t.content)}}function Os(n,e){n&1&&S(0,"div",25)}function As(n,e){if(n&1){let t=w();a(0,"div",29),m("click",function(){c(t);let i=u(2);return d(i.closeImage())}),a(1,"img",30),m("click",function(i){return c(t),d(i.stopPropagation())}),l(),a(2,"button",31),m("click",function(){c(t);let i=u(2);return d(i.closeImage())}),b(3,"\xD7"),l()()}if(n&2){let t=u(2);p(),v("src",t.selectedImage,J)}}function Is(n,e){if(n&1){let t=w();a(0,"div",12),O(1,Os,1,0,"div",25),a(2,"img",26),m("load",function(){let i=c(t).$index,r=u();return d(r.imageLoad.emit(i))})("click",function(){let i=c(t).$implicit,r=u();return d(r.openImage(i))}),l(),O(3,As,4,1,"div",27),a(4,"button",28),m("click",function(i){let r=c(t).$index;return u().removeImage.emit(r),d(i.stopPropagation())}),b(5," \xD7 "),l()()}if(n&2){let t=e.$implicit,o=e.$index,i=u();p(),A(i.imageLoading[o]?1:-1),p(),ve("display",i.imageLoading[o]?"none":"block"),v("src",t,J),p(),A(i.selectedImage?3:-1)}}function Ss(n,e){if(n&1){let t=w();a(0,"label")(1,"input",32),m("change",function(){let i=c(t).$implicit,r=u();return d(r.colorChange.emit(i))}),l(),S(2,"span",33),l()}if(n&2){let t=e.$implicit,o=u();p(),v("value",t)("checked",t===o.color),p(),ve("background-color",t)}}var Kt=class n{title="";content="";color="#ffffff";images=[];imageLoading=[];availableColors=[];clickedSection="content";checkboxes=[];shouldAddCheckboxes=!1;titleChange=new _;contentChange=new _;colorChange=new _;imageSelected=new _;removeImage=new _;imageLoad=new _;imagesUpdated=new _;save=new _;cancel=new _;close=new _;addCheckboxes=new _;checkboxesChange=new _;titleInput;textAreaInput;modalImageInput;selectedImage=null;showCheckboxes=!1;localCheckboxes=[];ngOnInit(){this.localCheckboxes=[...this.checkboxes],this.showCheckboxes=this.checkboxes.length>0||this.shouldAddCheckboxes,this.shouldAddCheckboxes&&this.checkboxes.length===0&&this.convertContentToCheckboxes()}ngAfterViewInit(){setTimeout(()=>{this.clickedSection=="title"?this.titleInput?.nativeElement?.focus():this.textAreaInput?.nativeElement?.focus()})}onBackgroundClick(){this.cancel.emit()}triggerImageUpload(e){e.stopPropagation(),this.modalImageInput.nativeElement.click()}openImage(e){this.selectedImage=e}closeImage(){this.selectedImage=null}onFilesSelected(e){let t=e.target;if(t.files&&t.files.length>0){let o=Array.from(t.files),i=o.map(()=>!0);this.imageLoading=[...this.imageLoading,...i],this.images=[...this.images,...Array(o.length).fill("")],o.forEach((r,s)=>{let h=new FileReader;h.onload=()=>{if(typeof h.result=="string"){let y=this.images.length-o.length+s;this.images[y]=h.result,this.imageLoading[y]=!1,this.imagesUpdated.emit({images:this.images,imageLoading:this.imageLoading})}},h.readAsDataURL(r)}),t.value=""}}onAddCheckboxes(){this.showCheckboxes?this.localCheckboxes.push({id:Date.now().toString(),text:"",checked:!1,order:this.localCheckboxes.length}):(this.showCheckboxes=!0,this.convertContentToCheckboxes())}onCheckboxesChanged(e){this.localCheckboxes=e,this.checkboxesChange.emit(e)}convertContentToCheckboxes(){if(this.content.trim()){let e=this.content.split(`
`).filter(t=>t.trim());this.localCheckboxes=e.map((t,o)=>({id:`${Date.now()}-${o}`,text:t.trim(),checked:!1,order:o})),this.content="",this.contentChange.emit("")}else this.localCheckboxes.length===0&&(this.localCheckboxes=[{id:Date.now().toString(),text:"",checked:!1,order:0}]);this.checkboxesChange.emit(this.localCheckboxes)}toggleCheckboxMode(){if(this.showCheckboxes=!this.showCheckboxes,this.showCheckboxes)this.convertContentToCheckboxes();else{let e=this.localCheckboxes.sort((t,o)=>t.order-o.order).map(t=>t.text).filter(t=>t.trim()).join(`
`);this.content=e,this.contentChange.emit(this.content),this.localCheckboxes=[],this.checkboxesChange.emit([])}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-modal-note-edit"]],viewQuery:function(t,o){if(t&1&&(se(ws,5),se(Ms,5),se(Es,5)),t&2){let i;ae(i=le())&&(o.titleInput=i.first),ae(i=le())&&(o.textAreaInput=i.first),ae(i=le())&&(o.modalImageInput=i.first)}},inputs:{title:"title",content:"content",color:"color",images:"images",imageLoading:"imageLoading",availableColors:"availableColors",clickedSection:"clickedSection",checkboxes:"checkboxes",shouldAddCheckboxes:"shouldAddCheckboxes"},outputs:{titleChange:"titleChange",contentChange:"contentChange",colorChange:"colorChange",imageSelected:"imageSelected",removeImage:"removeImage",imageLoad:"imageLoad",imagesUpdated:"imagesUpdated",save:"save",cancel:"cancel",close:"close",addCheckboxes:"addCheckboxes",checkboxesChange:"checkboxesChange"},decls:29,vars:7,consts:[["titleInput",""],["modalImageInput",""],["textAreaInput",""],[1,"modal-overlay",3,"mousedown"],[1,"modal-content",3,"mousedown"],["type","text",1,"title-input",3,"ngModelChange","keyup.enter","keyup.esc","ngModel"],[1,"content-mode-toggle"],["type","button",1,"mode-toggle-btn",3,"click"],[1,"mode-icon"],[3,"checkboxes"],["autoResize","","placeholder","Edit your note",1,"modal-textarea",3,"ngModel"],[1,"image-preview"],[1,"image-wrapper"],[1,"color-picker"],["type","file","accept","image/*","multiple","",2,"display","none",3,"change"],[1,"buttons-container"],[1,"note-tools"],["customClass","image-button","icon","mage:image","title","Upload image",3,"clicked"],["customClass","reminder-button","icon","carbon:reminder","title","Add reminder"],["customClass","add-checkboxes-button","icon","tabler:checkbox","title","Add checkboxes",3,"clicked"],[1,"save-cancel-buttons"],[1,"buttons-container-cancel",3,"click"],[1,"buttons-container-save",3,"click"],[3,"checkboxesChange","checkboxes"],["autoResize","","placeholder","Edit your note",1,"modal-textarea",3,"ngModelChange","keyup.esc","ngModel"],[1,"spinner"],[1,"preview-thumbnail",2,"cursor","zoom-in",3,"load","click","src"],[1,"image-overlay"],[1,"remove-image-button",3,"click"],[1,"image-overlay",3,"click"],[1,"full-image",3,"click","src"],[1,"close-overlay",3,"click"],["type","radio","name","modalNoteColor",3,"change","value","checked"],[1,"color-swatch"]],template:function(t,o){if(t&1){let i=w();a(0,"div",3),m("mousedown",function(){return c(i),d(o.onBackgroundClick())}),a(1,"div",4),m("mousedown",function(s){return c(i),d(s.stopPropagation())}),a(2,"input",5,0),m("ngModelChange",function(s){return c(i),d(o.titleChange.emit(s))})("keyup.enter",function(){return c(i),d(o.save.emit())})("keyup.esc",function(){return c(i),d(o.cancel.emit())}),l(),a(4,"div",6)(5,"button",7),m("click",function(){return c(i),d(o.toggleCheckboxMode())}),a(6,"i",8),b(7),l(),b(8),l()(),O(9,Ns,1,1,"app-draggable-checkboxes",9),O(10,Vs,2,1,"textarea",10),a(11,"div",11),W(12,Is,6,5,"div",12,Se),l(),a(14,"div",13),W(15,Ss,3,4,"label",null,dt),l(),a(17,"input",14,1),m("change",function(s){return c(i),d(o.onFilesSelected(s))}),l(),a(19,"div",15)(20,"div",16)(21,"app-button-feature",17),m("clicked",function(s){return c(i),d(o.triggerImageUpload(s))}),l(),S(22,"app-button-feature",18),a(23,"app-button-feature",19),m("clicked",function(){return c(i),d(o.onAddCheckboxes())}),l()(),a(24,"div",20)(25,"button",21),m("click",function(){return c(i),d(o.cancel.emit())}),b(26," Cancel "),l(),a(27,"button",22),m("click",function(){return c(i),d(o.save.emit())}),b(28," Save "),l()()()()()}t&2&&(p(2),v("ngModel",o.title),p(3),ye("active",o.showCheckboxes),p(2),z(o.showCheckboxes?"\u{1F4DD}":"\u2611\uFE0F"),p(),De(" ",o.showCheckboxes?"Switch to Text":"Switch to Checkboxes"," "),p(),A(o.showCheckboxes?9:-1),p(),A(o.showCheckboxes?-1:10),p(2),K(o.images),p(3),K(o.availableColors))},dependencies:[R,L,G,Y,q,Et,Gt,Wt],styles:[".title-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:0;background-color:transparent;border:none;border-radius:4px;font-size:18px;font-weight:600;font-family:Reddit Sans,sans-serif}.title-input[_ngcontent-%COMP%]:focus{outline:none;border:none}.modal-textarea[_ngcontent-%COMP%]{width:100%;max-height:500px;padding:.5rem 1rem .5rem .5rem;margin-top:0;margin-bottom:1rem;font-size:1rem;font-family:Reddit Sans,sans-serif;color:#343434;background-color:transparent;border:none;border-radius:4px;overflow-y:auto;resize:none;transition:height .2s ease-in-out;scrollbar-width:thin;scrollbar-color:#00000042 transparent}.modal-textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;transition:opacity .2s ease-in-out}.save-cancel-buttons[_ngcontent-%COMP%]{display:flex;gap:.8rem}.buttons-container-save[_ngcontent-%COMP%]{background-color:#38931c;color:#fff;padding:.4rem 32px;border:none;border-radius:8px;cursor:pointer;font-size:.9rem}.buttons-container-save[_ngcontent-%COMP%]:hover{background-color:#43ad23;color:#fff}.buttons-container-cancel[_ngcontent-%COMP%]{padding:.5rem 1rem;color:#4f4f4f;background-color:transparent;border:none;cursor:pointer;border-radius:8px;font-size:.9rem}.buttons-container-cancel[_ngcontent-%COMP%]:hover{background-color:#0001}.note-tools[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px 0;justify-content:flex-start}.note-tools[_ngcontent-%COMP%]   app-button-feature[_ngcontent-%COMP%]{flex-shrink:0}.image-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin:0 0 1.5rem}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.preview-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:6px;border:1px solid #ccc;transition:transform .2s ease}.preview-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.remove-image-button[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;background-color:#872424;color:#fff;background-color:#aab8bd99;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;z-index:10;opacity:0}.image-wrapper[_ngcontent-%COMP%]:hover   .remove-image-button[_ngcontent-%COMP%]{opacity:1}.remove-image-button[_ngcontent-%COMP%]:hover{background-color:#c33}.image-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;z-index:9999;display:flex;align-items:center;justify-content:center;cursor:zoom-out}.full-image[_ngcontent-%COMP%]{max-width:90vw;max-height:90vh;border-radius:8px;box-shadow:0 0 20px #ffffff1a;cursor:default}.close-overlay[_ngcontent-%COMP%]{position:fixed;top:20px;right:30px;font-size:32px;color:#fff;background:none;border:none;cursor:pointer;z-index:10000}.close-overlay[_ngcontent-%COMP%]:hover{color:#faa}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#f0f0f0;color:#666;font-size:12px;border-radius:8px}.color-picker[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:0}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.color-picker[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.color-swatch[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:2px solid #ccc;display:inline-block;transition:border-color .2s}.color-picker[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .color-swatch[_ngcontent-%COMP%]{border-color:#000}.content-mode-toggle[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:center}.mode-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #e2e8f0;border-radius:20px;background:#fff;color:#4a5568;font-size:14px;cursor:pointer;transition:all .2s ease}.mode-toggle-btn[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.mode-toggle-btn.active[_ngcontent-%COMP%]{border-color:#3182ce;background:#ebf8ff;color:#3182ce}.mode-icon[_ngcontent-%COMP%]{font-style:normal;font-size:16px}.add-checkboxes-button.active[_ngcontent-%COMP%]{background-color:#ebf8ff!important;color:#3182ce!important;border-color:#3182ce!important}"]})};var Ds=()=>[];function Ts(n,e){if(n&1){let t=w();a(0,"app-modal-note-view",4),m("edit",function(i){c(t);let r=u();return d(r.enableEditMode(i))})("close",function(){c(t);let i=u();return d(i.closeModal())}),l()}if(n&2){let t=u();v("note",t.note)("images",t.note.images||pt(3,Ds))("checkboxes",t.modalCheckboxes)}}function Ps(n,e){if(n&1){let t=w();a(0,"app-modal-note-edit",5),m("titleChange",function(i){c(t);let r=u();return d(r.titleChange.emit(i))})("contentChange",function(i){c(t);let r=u();return d(r.contentChange.emit(i))})("colorChange",function(i){c(t);let r=u();return d(r.colorChange.emit(i))})("imageSelected",function(i){c(t);let r=u();return d(r.imageSelected.emit(i))})("imagesUpdated",function(i){c(t);let r=u();return d(r.onModalImagesUpdated(i))})("removeImage",function(i){c(t);let r=u();return d(r.removeImage.emit(i))})("imageLoad",function(i){c(t);let r=u();return d(r.imageLoad.emit(i))})("save",function(){c(t);let i=u();return d(i.save.emit())})("cancel",function(){c(t);let i=u();return d(i.cancel.emit())})("checkboxesChange",function(i){c(t);let r=u();return d(r.checkboxesChange.emit(i))}),l()}if(n&2){let t=u();v("title",t.modalTitle)("content",t.modalContent)("color",t.modalColor)("images",t.modalImages)("imageLoading",t.modalImageLoading)("availableColors",t.availableColors)("clickedSection",t.clickedSection)}}var qt=class n{note;isEditing=!1;modalTitle="";modalContent="";modalColor="#ffffff";modalImages=[];modalImageLoading=[];availableColors=[];modalCheckboxes=[];shouldAddCheckboxes=!1;close=new _;edit=new _;save=new _;cancel=new _;titleChange=new _;contentChange=new _;colorChange=new _;imageSelected=new _;imagesUpdated=new _;removeImage=new _;imageLoad=new _;checkboxesChange=new _;clickedSection="content";ngOnInit(){document.body.classList.add("modal-open")}ngOnDestroy(){document.body.classList.remove("modal-open")}closeModal(){this.close.emit()}onBackgroundClick(){this.close.emit()}enableEditMode(e){this.clickedSection=e,this.edit.emit()}onEscKeyPressed(){this.isEditing?this.cancel.emit():this.closeModal()}onModalImagesUpdated(e){this.modalImages=e.images,this.modalImageLoading=e.imageLoading,this.imagesUpdated.emit(e.images)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-modal-note"]],inputs:{note:"note",isEditing:"isEditing",modalTitle:"modalTitle",modalContent:"modalContent",modalColor:"modalColor",modalImages:"modalImages",modalImageLoading:"modalImageLoading",availableColors:"availableColors",modalCheckboxes:"modalCheckboxes",shouldAddCheckboxes:"shouldAddCheckboxes"},outputs:{close:"close",edit:"edit",save:"save",cancel:"cancel",titleChange:"titleChange",contentChange:"contentChange",colorChange:"colorChange",imageSelected:"imageSelected",imagesUpdated:"imagesUpdated",removeImage:"removeImage",imageLoad:"imageLoad",checkboxesChange:"checkboxesChange"},decls:4,vars:4,consts:[[1,"note-modal",3,"click","appEscKey"],[1,"modal-content",3,"click"],[3,"note","images","checkboxes"],[3,"title","content","color","images","imageLoading","availableColors","clickedSection"],[3,"edit","close","note","images","checkboxes"],[3,"titleChange","contentChange","colorChange","imageSelected","imagesUpdated","removeImage","imageLoad","save","cancel","checkboxesChange","title","content","color","images","imageLoading","availableColors","clickedSection"]],template:function(t,o){t&1&&(a(0,"div",0),m("click",function(){return o.close.emit()})("appEscKey",function(){return o.onEscKeyPressed()}),a(1,"div",1),m("click",function(r){return r.stopPropagation()}),O(2,Ts,1,4,"app-modal-note-view",2),O(3,Ps,1,7,"app-modal-note-edit",3),l()()),t&2&&(p(),ve("background-color",o.modalColor),p(),A(o.isEditing?-1:2),p(),A(o.isEditing&&o.note.id?3:-1))},dependencies:[L,Ht,Kt,Be],styles:[".note-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#000000b3;padding:1.5rem;border-radius:8px;max-width:600px;width:90%;box-shadow:0 8px 16px #0003;overflow-y:auto;max-height:85vh;display:flex;flex-direction:column;overflow:hidden}"]})};var Qt=class n{notebookName="";notebookNameChange=new _;save=new _;cancel=new _;onBackgroundClick(){this.cancel.emit()}onContentClick(e){e.stopPropagation()}onNameInput(e){this.notebookName=e,this.notebookNameChange.emit(e)}ngOnChanges(){this.notebookNameChange.emit(this.notebookName)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-modal-edit-notebook"]],inputs:{notebookName:"notebookName"},outputs:{notebookNameChange:"notebookNameChange",save:"save",cancel:"cancel"},features:[be],decls:10,vars:1,consts:[[1,"notebook-edit-modal",3,"mousedown"],[1,"modal-content",3,"mousedown"],["type","text","placeholder","Notebook Name",1,"notebook-title-input",3,"ngModelChange","keyup.enter","keyup.esc","ngModel"],[1,"edit-buttons"],[3,"click"]],template:function(t,o){t&1&&(a(0,"div",0),m("mousedown",function(){return o.onBackgroundClick()}),a(1,"div",1),m("mousedown",function(r){return r.stopPropagation()}),a(2,"h2"),b(3,"Edit Notebook"),l(),a(4,"input",2),m("ngModelChange",function(r){return o.onNameInput(r)})("keyup.enter",function(){return o.save.emit()})("keyup.esc",function(){return o.cancel.emit()}),l(),a(5,"div",3)(6,"button",4),m("click",function(){return o.cancel.emit()}),b(7,"Cancel"),l(),a(8,"button",4),m("click",function(){return o.save.emit()}),b(9,"Save"),l()()()()),t&2&&(p(4),v("ngModel",o.notebookName))},dependencies:[R,L,G,Y,q],styles:[".notebook-edit-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:10000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;min-width:300px;width:30%;box-shadow:0 8px 16px #00000040}h2[_ngcontent-%COMP%]{color:#589595}.notebook-edit-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;font-size:1.2rem;font-weight:600;border:1px solid #ccc;border-radius:4px}.edit-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 32px;border:none;border-radius:8px;cursor:pointer}.edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#cccccc10;color:#333;box-sizing:border-box}.edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background-color:#cccccc30}.edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:var(--header-action-btn-main);color:#fff;padding:.5rem 4rem}.edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#5d9c9c}"]})};var Fs=["noteTextArea"];function Rs(n,e){if(n&1){let t=w();a(0,"app-modal-note",9),m("close",function(){c(t);let i=u();return d(i.closeNoteModal())})("edit",function(){c(t);let i=u();return d(i.enableModalEdit())})("cancel",function(){c(t);let i=u();return d(i.cancelModalEdit())})("save",function(){c(t);let i=u();return d(i.saveModalEdit())})("titleChange",function(i){c(t);let r=u();return d(r.modalTitle=i)})("contentChange",function(i){c(t);let r=u();return d(r.modalContent=i)})("colorChange",function(i){c(t);let r=u();return d(r.modalColor=i)})("checkboxesChange",function(i){c(t);let r=u();return d(r.onModalCheckboxesUpdated(i))})("imageSelected",function(i){c(t);let r=u();return d(r.onModalImageSelected(i))})("imagesUpdated",function(i){c(t);let r=u();return d(r.onModalImagesUpdated(i))})("removeImage",function(i){c(t);let r=u();return d(r.removeModalImage(i))})("imageLoad",function(i){c(t);let r=u();return d(r.onModalImageLoad(i))}),l()}if(n&2){let t=u();v("note",t.selectedNote)("isEditing",t.isModalEditing)("modalTitle",t.modalTitle)("modalContent",t.modalContent)("modalColor",t.modalColor)("modalImages",t.modalImages)("modalImageLoading",t.modalImageLoading)("modalCheckboxes",t.modalCheckboxes)("shouldAddCheckboxes",t.shouldAddCheckboxesOnOpen)("availableColors",t.availableColors)}}function js(n,e){if(n&1){let t=w();a(0,"app-modal-add-new-note",10),m("close",function(){c(t);let i=u();return d(i.closeNoteModal())}),l()}}function Ls(n,e){if(n&1){let t=w();a(0,"app-modal-create-notebook",11),m("close",function(){c(t);let i=u();return d(i.closeCreateNotebookModal())})("notebookCreated",function(i){c(t);let r=u();return d(r.onNotebookCreated(i))}),l()}}function Us(n,e){if(n&1){let t=w();a(0,"app-modal-add-to-notebook",12),m("close",function(){c(t);let i=u();return d(i.closeAddToNotebookModal())}),l()}if(n&2){let t=u();v("note",t.noteToAddToNotebook)}}function Bs(n,e){if(n&1){let t=w();a(0,"app-modal-edit-notebook",13),ne("notebookNameChange",function(i){c(t);let r=u();return te(r.editingNotebookName,i)||(r.editingNotebookName=i),d(i)}),m("save",function(){c(t);let i=u();return d(i.saveNotebookEdit())})("cancel",function(){c(t);let i=u();return d(i.cancelNotebookEdit())}),l()}if(n&2){let t=u();ee("notebookName",t.editingNotebookName)}}var Zt=class n{constructor(e,t,o){this.store=e;this.eventBus=t;this.router=o;this.notebooks$=this.store.select(me)}title="angular-ngrx-notes-app";noteTextarea;allNotes$;filteredPinnedNotes$;filteredNotebookNotes$;filteredNotebooks$;isLoading$;hasNotes$;hasNotebooks$;hasPins$;hasUnpinnedNotes$;noteTitle="";noteContent="";editingNoteID=null;searchTerm="";selectedNote=null;notePinned=!1;isModalEditing=!1;modalTitle="";modalContent="";showAddNoteModal=!1;showAddToNotebookModal=!1;showCreateNotebookModal=!1;noteToAddToNotebook=null;selectedImages=[];modalImages=[];imageLoading=[];modalImageLoading=[];noteColor="#ffffff";modalColor="#ffffff";viewMode="grid";activeFilters=[];availableColors=["#ffffff","#ffc8c2ff","#ffe09dff","#fffbcdff","#e0fcc1ff","#caf6edff","#cceff7ff","#e0d6e9ff"];modalCheckboxes=[];shouldAddCheckboxesOnOpen=!1;notebooks$;notebookTitle="";editingNotebook=!1;editingNotebookId=null;editingNotebookName="";openNotebookOptionsId=null;selectedNotebook=null;selectedNotebookId=null;shouldFocusTextarea=!1;ngOnInit(){this.eventBus.noteSelected$.subscribe(e=>{this.openNoteModal(e)}),this.eventBus.notebookSelected$.subscribe(e=>{this.selectNotebook(e)}),this.eventBus.notebookEditRequested$.subscribe(e=>{this.startEditingNotebook(e)}),this.eventBus.openAddNoteModal$.subscribe(()=>{this.showAddNoteModal=!0}),this.eventBus.openAddToNotebookModal$.subscribe(e=>{this.noteToAddToNotebook=e,this.showAddToNotebookModal=!0}),this.eventBus.openNoteInEditMode$.subscribe(({note:e,addCheckboxes:t})=>{this.openNoteModal(e),this.shouldAddCheckboxesOnOpen=t||!1,this.enableModalEdit()}),this.router.events.pipe(ie(e=>e instanceof Eo)).subscribe(e=>{e.url==="/"&&(this.store.dispatch(cn({term:""})),this.searchTerm="")})}ngAfterViewChecked(){this.shouldFocusTextarea&&this.noteTextarea&&(setTimeout(()=>{this.noteTextarea.nativeElement.focus()}),this.shouldFocusTextarea=!1)}onSearchTermChange(e){this.searchTerm=e}onImageLoad(e){this.modalImageLoading[e]=!1}addNote(){if(!this.noteTitle.trim()||!this.noteContent.trim()){alert("Note title and content cannot be empty.");return}let e={id:ce(),title:this.noteTitle,content:this.noteContent,color:this.noteColor,pinned:this.notePinned,createdAt:Date.now(),images:[...this.selectedImages],checkboxes:[]};this.store.dispatch(Ct({note:e})),this.selectedNotebookId&&this.notebooks$.subscribe(o=>{let i=o.find(r=>r.id===this.selectedNotebookId);if(i){let r=D(N({},i),{notes:[...i.notes,e]});this.store.dispatch(pe({update:{id:r.id,changes:{notes:r.notes}}}))}}).unsubscribe(),this.resetForm()}deleteNote(e){confirm("Are you sure you want to delete the note?")&&(this.store.dispatch(vt({id:e})),this.closeNoteModal())}resetForm(){if(this.editingNoteID=null,this.noteTitle="",this.noteContent="",this.noteColor="#ffffff",this.notePinned=!1,this.selectedNotebookId=null,this.selectedImages=[],this.modalImages=[],this.imageLoading=[],this.modalImageLoading=[],this.noteTextarea){let e=this.noteTextarea.nativeElement;e.style.height="auto"}}onImageSelected(e){let t=e.target;t.files&&(Array.from(t.files).forEach(o=>{let i=new FileReader,r=this.selectedImages.length;this.imageLoading.push(!0),i.onload=()=>{typeof i.result=="string"&&(this.selectedImages.push(i.result),this.imageLoading[r]=!1)},i.readAsDataURL(o)}),t.value="")}removeSelectedImage(e){this.selectedImages.splice(e,1),this.modalImageLoading.splice(e,1)}openNoteModal(e){this.selectedNote=e||{id:"",title:"",content:"",color:"#ffffff",pinned:!1,createdAt:Date.now(),images:[],checkboxes:[]},this.isModalEditing=!e,this.modalTitle=this.selectedNote.title,this.modalContent=this.selectedNote.content,this.modalColor=this.selectedNote?.color||"#ffffff",this.modalImages=[...this.selectedNote.images||[]],this.modalImageLoading=new Array(this.modalImages.length).fill(!1),this.modalCheckboxes=[...this.selectedNote.checkboxes||[]]}openNewNoteModal(){this.showAddNoteModal=!0}closeNoteModal(){this.selectedNote=null,this.isModalEditing=!1,this.showAddNoteModal=!1}enableModalEdit(){this.isModalEditing=!0,this.shouldFocusTextarea=!0}cancelModalEdit(){this.isModalEditing=!1,this.shouldAddCheckboxesOnOpen=!1,this.selectedNote&&(this.modalTitle=this.selectedNote.title,this.modalContent=this.selectedNote.content,this.modalColor=this.selectedNote.color||"#ffffff",this.modalImages=[...this.selectedNote.images||[]],this.modalImageLoading=new Array(this.modalImages.length).fill(!1),this.modalCheckboxes=[...this.selectedNote.checkboxes||[]])}saveModalEdit(){if(this.selectedNote){let e=D(N({},this.selectedNote),{title:this.modalTitle.trim(),content:this.modalContent.trim(),color:this.modalColor,images:[...this.modalImages],checkboxes:[...this.modalCheckboxes],updatedAt:Date.now()}),t={id:e.id,changes:{title:e.title,content:e.content,color:this.modalColor,images:e.images,checkboxes:e.checkboxes,updatedAt:e.updatedAt}};this.store.dispatch(Uo({update:t})),this.notebooks$.pipe(P(o=>o.filter(i=>i.notes.some(r=>r.id===e.id))),he(1)).subscribe(o=>{o.forEach(i=>{let r=i.notes.map(s=>s.id===e.id?e:s);this.store.dispatch(pe({update:{id:i.id,changes:{notes:r}}}))})}),this.selectedNote=e,this.isModalEditing=!1,this.shouldAddCheckboxesOnOpen=!1}}onModalImageLoad(e){e<this.modalImageLoading.length&&(this.modalImageLoading[e]=!1)}onModalImagesUpdated(e){this.modalImages=[...e],this.modalImageLoading=new Array(e.length).fill(!1)}onModalImageSelected(e){console.log("Image selection event received in parent:",e)}removeModalImage(e){e>=0&&e<this.modalImages.length&&(this.modalImages.splice(e,1),this.modalImageLoading.splice(e,1))}togglePin(e,t){t.stopPropagation(),this.store.dispatch(Bo({id:e.id}))}onModalCheckboxesUpdated(e){this.modalCheckboxes=[...e]}selectNotebook(e){this.selectedNotebook=e,this.openNotebookOptionsId=null}startEditingNotebook(e){this.editingNotebook=!0,this.editingNotebookId=e.id,this.editingNotebookName=e.name}saveNotebookEdit(){if(!this.editingNotebookId)return;if(!this.editingNotebookName.trim()){alert("Notebook name cannot be empty.");return}this.store.dispatch(pe({update:{id:this.editingNotebookId,changes:{name:this.editingNotebookName.trim()}}})),this.cancelNotebookEdit()}cancelNotebookEdit(){this.editingNotebook=!1,this.editingNotebookId=null,this.editingNotebookName=""}openNotebookModal(){this.showAddToNotebookModal=!0}closeAddToNotebookModal(){this.showAddToNotebookModal=!1,this.noteToAddToNotebook=null}handleNotebookSelected(e){let t={id:ce(),title:"New Note",content:"",createdAt:Date.now(),pinned:!1,color:"#fff",images:[]},o=[...e.notes,t];this.store.dispatch(pe({update:{id:e.id,changes:{notes:o}}}))}removeNoteFromNotebook(e){confirm("Are you sure you want to remove this note from the notebook?")&&this.notebooks$.pipe(P(t=>t.find(o=>o.id===e.notebookId)),he(1)).subscribe(t=>{if(t){let o=t.notes.filter(i=>i.id!==e.noteId);this.store.dispatch(pe({update:{id:t.id,changes:{notes:o}}}))}})}onSearchChange(e){this.searchTerm=e,this.store.dispatch(cn({term:e}))}removeFilter(e){this.activeFilters=this.activeFilters.filter(t=>t.id!==e.id)}openCreateNotebookModal(){this.showCreateNotebookModal=!0}closeCreateNotebookModal(){this.showCreateNotebookModal=!1}onNotebookCreated(e){this.selectedNotebook=e,this.showCreateNotebookModal=!1}static \u0275fac=function(t){return new(t||n)(k(Z),k(Te),k(Vo))};static \u0275cmp=T({type:n,selectors:[["app-root"]],viewQuery:function(t,o){if(t&1&&se(Fs,5),t&2){let i;ae(i=le())&&(o.noteTextarea=i.first)}},decls:13,vars:9,consts:[[1,"app-layout"],[3,"appTitle"],[3,"createNote","createNotebook","searchChange","filterRemove","searchTerm","viewMode","activeFilters"],[1,"main-content"],[3,"note","isEditing","modalTitle","modalContent","modalColor","modalImages","modalImageLoading","modalCheckboxes","shouldAddCheckboxes","availableColors","close","edit","cancel","save","titleChange","contentChange","colorChange","checkboxesChange","imageSelected","imagesUpdated","removeImage","imageLoad",4,"ngIf"],[3,"close",4,"ngIf"],[3,"close","notebookCreated",4,"ngIf"],[3,"note","close",4,"ngIf"],[3,"notebookName","notebookNameChange","save","cancel",4,"ngIf"],[3,"close","edit","cancel","save","titleChange","contentChange","colorChange","checkboxesChange","imageSelected","imagesUpdated","removeImage","imageLoad","note","isEditing","modalTitle","modalContent","modalColor","modalImages","modalImageLoading","modalCheckboxes","shouldAddCheckboxes","availableColors"],[3,"close"],[3,"close","notebookCreated"],[3,"close","note"],[3,"notebookNameChange","save","cancel","notebookName"]],template:function(t,o){t&1&&(a(0,"div",0),S(1,"app-sidebar",1),a(2,"app-header",2),m("createNote",function(){return o.openNewNoteModal()})("createNotebook",function(){return o.openCreateNotebookModal()})("searchChange",function(r){return o.onSearchChange(r)})("filterRemove",function(r){return o.removeFilter(r)}),l(),a(3,"div",3),S(4,"router-outlet"),l(),Ie(5,Rs,1,10,"app-modal-note",4),a(6,"div"),Ie(7,js,1,0,"app-modal-add-new-note",5),l(),a(8,"div"),Ie(9,Ls,1,0,"app-modal-create-notebook",6),l(),a(10,"div"),Ie(11,Us,1,1,"app-modal-add-to-notebook",7),l(),Ie(12,Bs,1,1,"app-modal-edit-notebook",8),l()),t&2&&(p(),v("appTitle","Noteboard"),p(),v("searchTerm",o.searchTerm)("viewMode",o.viewMode)("activeFilters",o.activeFilters),p(3),v("ngIf",o.selectedNote),p(2),v("ngIf",o.showAddNoteModal),p(2),v("ngIf",o.showCreateNotebookModal),p(2),v("ngIf",o.showAddToNotebookModal),p(),v("ngIf",o.editingNotebook))},dependencies:[L,R,vo,No,Ut,jt,Bt,$t,zt,qt,Qt],styles:[".empty-state[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;text-align:center;font-size:1.1rem;color:#555;background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 1px 6px #0000001a}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:800px;margin-bottom:0}"]})};var Fn="__@ngrx/effects_create__";function $s(n){return Object.getOwnPropertyNames(n).filter(o=>n[o]&&n[o].hasOwnProperty(Fn)?n[o][Fn].hasOwnProperty("dispatch"):!1).map(o=>{let i=n[o][Fn];return N({propertyName:o},i)})}function zs(n){return $s(n)}function Di(n){return Object.getPrototypeOf(n)}function Hs(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function Ti(n){return typeof n=="function"}function Gs(n){return n.filter(Ti)}function Ws(n,e,t){let o=Di(n),r=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,s=zs(n).map(({propertyName:h,dispatch:y,useEffectsErrorHandler:C})=>{let g=typeof n[h]=="function"?n[h]():n[h],f=C?t(g,e):g;return y===!1?f.pipe(Zn()):f.pipe(eo()).pipe(P(U=>({effect:n[h],notification:U,propertyName:h,sourceName:r,sourceInstance:n})))});return Oe(...s)}var Ks=10;function Pi(n,e,t=Ks){return n.pipe(Je(o=>(e&&e.handleError(o),t<=1?n:Pi(n,e,t-1))))}var iu=new j("@ngrx/effects Internal Root Guard"),ru=new j("@ngrx/effects User Provided Effects"),su=new j("@ngrx/effects Internal Root Effects"),au=new j("@ngrx/effects Internal Root Effects Instances"),lu=new j("@ngrx/effects Internal Feature Effects"),cu=new j("@ngrx/effects Internal Feature Effects Instance Groups"),qs=new j("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Pi}),Qs="@ngrx/effects/init",Zs=Do(Qs);function Ys(n,e){if(n.notification.kind==="N"){let t=n.notification.value;!Xs(t)&&e.handleError(new Error(`Effect ${Js(n)} dispatched an invalid action: ${ea(t)}`))}}function Xs(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function Js({propertyName:n,sourceInstance:e,sourceName:t}){let o=typeof e[n]=="function";return!!t?`"${t}.${String(n)}${o?"()":""}"`:`"${String(n)}()"`}function ea(n){try{return JSON.stringify(n)}catch{return n}}var ta="ngrxOnIdentifyEffects";function na(n){return Rn(n,ta)}var oa="ngrxOnRunEffects";function ia(n){return Rn(n,oa)}var ra="ngrxOnInitEffects";function sa(n){return Rn(n,ra)}function Rn(n,e){return n&&e in n&&typeof n[e]=="function"}var Fi=(()=>{let e=class e extends Ve{constructor(o,i){super(),this.errorHandler=o,this.effectsErrorHandler=i}addEffects(o){this.next(o)}toActions(){return this.pipe(tn(o=>Hs(o)?Di(o):o),en(o=>o.pipe(tn(aa))),en(o=>{let i=o.pipe(Jn(s=>la(this.errorHandler,this.effectsErrorHandler)(s)),P(s=>(Ys(s,this.errorHandler),s.notification)),ie(s=>s.kind==="N"&&s.value!=null),Yn()),r=o.pipe(he(1),ie(sa),P(s=>s.ngrxOnInitEffects()));return Oe(i,r)}))}};e.\u0275fac=function(i){return new(i||e)(B(it),B(qs))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function aa(n){return na(n)?n.ngrxOnIdentifyEffects():""}function la(n,e){return t=>{let o=Ws(t,n,e);return ia(t)?t.ngrxOnRunEffects(o):o}}var ca=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(o,i){this.effectSources=o,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(B(Fi),B(Z))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Ri(...n){let e=n.flat(),t=Gs(e);return ot([t,so(()=>{re(Po),re(Fo,{optional:!0});let o=re(ca),i=re(Fi),r=!o.isStarted;r&&o.start();for(let s of e){let h=Ti(s)?re(s):s;i.addEffects(h)}r&&re(Z).dispatch(Zs())})])}var Yt=[{path:"",redirectTo:"/all",pathMatch:"full"},{path:"all",loadComponent:()=>import("./chunk-JGN5RK6U.js").then(n=>n.AllView),data:{title:"All Items"}},{path:"notes",loadComponent:()=>import("./chunk-YD6A37KK.js").then(n=>n.NotesView),data:{title:"Notes"}},{path:"notebooks",loadComponent:()=>import("./chunk-6KTYKZAD.js").then(n=>n.NotebooksView),data:{title:"Notebooks"}},{path:"notebooks/:id",loadComponent:()=>import("./chunk-BMELLD5X.js").then(n=>n.NotebookDetail),data:{title:"Notebook Details"}},{path:"archive",loadComponent:()=>import("./chunk-4SDDVZLO.js").then(n=>n.ArchiveView),data:{title:"Archive"}},{path:"trash",loadComponent:()=>import("./chunk-ILAKJUEI.js").then(n=>n.TrashView),data:{title:"Trash"}},{path:"**",redirectTo:"/all"}];var $i=Wi(Bi(),1);var jn="@ngrx/store/init",ka="@ngrx/store/update-reducers",wa=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,Ma=(n,e)=>typeof e=="string"&&wa.test(e)?new Date(e):e,Ea=(n,e)=>e,Na=()=>typeof window<"u",Va=n=>n.map(e=>{let t=e;if(typeof e=="object"&&(t=Object.keys(e)[0]),typeof t!="string")throw new TypeError(`localStorageSync Unknown Parameter Type: Expected type of string, got ${typeof t}`);return e}),Oa=({keys:n,storage:e,storageKeySerializer:t,restoreDates:o})=>n.reduce((i,r)=>{let s=r,h=o?Ma:Ea,y,C;if(typeof s=="object"&&(s=Object.keys(s)[0],typeof r[s]=="function"?h=r[s]:(r[s].reviver&&(h=r[s].reviver),r[s].deserialize&&(y=r[s].deserialize)),r[s].encrypt&&r[s].decrypt?typeof r[s].encrypt=="function"&&typeof r[s].decrypt=="function"?C=r[s].decrypt:console.error(`Either encrypt or decrypt is not a function on '${r[s]}' key object.`):(r[s].encrypt||r[s].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${r[s]}' key object.`)),e!==void 0){let g=e.getItem(t(s));if(g){C&&(g=C(g));let f=new RegExp("{|\\["),x=g;return(g==="null"||g==="true"||g==="false"||f.test(g.charAt(0)))&&(x=JSON.parse(g,h)),Object.assign({},i,{[s]:y?y(x):x})}}return i},{});function zi(n,e){return e.reduce((t,o)=>{if(typeof o=="string"||typeof o=="number"){let i=n?.[o];i!==void 0&&(t[o]=i)}else for(let i in o)if(Object.prototype.hasOwnProperty.call(o,i)){let r=o[i];t[i]=zi(n[i],r)}return t},{})}var Aa=({state:n,keys:e,storage:t,storageKeySerializer:o,removeOnUndefined:i,syncCondition:r})=>{if(r)try{if(r(n)!==!0)return}catch(s){if(s instanceof TypeError)return;throw s}e.forEach(s=>{let h=n[s],y,C,g;if(typeof s=="object"){let f=Object.keys(s)[0];if(h=n[f],typeof h<"u"&&s[f]){if(s[f].serialize)h=s[f].serialize(h);else{let x;s[f].reduce?x=s[f]:s[f].filter&&(x=s[f].filter),x&&(h=zi(h,x)),s[f].encrypt&&s[f].decrypt?typeof s[f].encrypt=="function"&&(g=s[f].encrypt):(s[f].encrypt||s[f].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${s[f]}' key object.`)}y=s[f].replacer,C=s[f].space}s=f}if(typeof h<"u"&&t!==void 0)try{g&&(h=g(typeof h=="string"?h:JSON.stringify(h,y,C))),t.setItem(o(s),typeof h=="string"?h:JSON.stringify(h,y,C))}catch(f){console.warn("Unable to save state to localStorage:",f)}else if(typeof h>"u"&&i&&t!==void 0)try{t.removeItem(o(s))}catch(f){console.warn(`Exception on removing/cleaning undefined '${s}' state`,f)}})},Ia=(n,e,t)=>((t.type===jn||t.type===ka)&&e&&(n=(0,$i.default)(n,e,{arrayMerge:(r,s,h)=>s})),n),Hi=n=>e=>{(n.storage===void 0&&!n.checkStorageAvailability||n.checkStorageAvailability&&Na())&&(n.storage=localStorage||window.localStorage),n.storageKeySerializer===void 0&&(n.storageKeySerializer=y=>y),n.restoreDates===void 0&&(n.restoreDates=!0);let t=n.mergeReducer;(t===void 0||typeof t!="function")&&(t=Ia);let o=Va(n.keys),{storage:i,storageKeySerializer:r,restoreDates:s}=n,h=n.rehydrate?Oa({keys:o,storage:i,storageKeySerializer:r,restoreDates:s}):void 0;return function(y,C){let g;if(C.type===jn&&!y?g=e(y,C):g=N({},y),g=t(g,h,C),g=e(g,C),C.type!==jn){let{storage:f,storageKeySerializer:x,removeOnUndefined:U,syncCondition:E}=n;Aa({state:g,keys:o,storage:f,storageKeySerializer:x,removeOnUndefined:U,syncCondition:E})}return g}};var Sa=[wt,xt,wt,xt];function Da(n){return typeof window<"u"?Hi({keys:Sa,rehydrate:!0,storage:window.localStorage,removeOnUndefined:!0})(n):n}var Ta=[Da],Ln={providers:[lo(),_o(),gt(Yt),bt({},{metaReducers:Ta}),ln(wt,Mt),ln(xt,kt),Ri([]),Mo(wo())]};ko(Zt,D(N({},Ln),{providers:[gt(Yt),bt({notes:Mt,notebooks:kt}),...Ln.providers??[],pi()]})).catch(n=>console.error(n));
